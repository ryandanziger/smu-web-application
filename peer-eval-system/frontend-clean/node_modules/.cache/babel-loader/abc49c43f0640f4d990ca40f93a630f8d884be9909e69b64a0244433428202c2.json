{"ast":null,"code":"var _jsxFileName = \"/Users/ryandanziger/Desktop/smu-web-application/peer-eval-system/frontend-clean/src/components/EvaluationForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Form, Spinner } from 'react-bootstrap';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\n\n// --- Color Palette (matching Figma wireframes) ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = {\n  TAN_BACKGROUND: 'rgba(138,112,76,0.9)',\n  // Main form background\n  WHITE: 'white',\n  NAVY_BUTTON: '#141b4d',\n  // Dark navy for buttons\n  PLACEHOLDER_TEXT: '#8a704c',\n  // Tan color for placeholders\n  TEXT_PRIMARY: '#2d3748',\n  TEXT_SECONDARY: '#5C7094',\n  ERROR_RED: '#C97C7C',\n  BODY_BACKGROUND: 'white',\n  HEADER_TEXT: '#2d3748',\n  SUB_HEADER_TEXT: '#5C7094',\n  UNDERLINE_BLUE: '#5C7094',\n  HEADER_BAR_BG: '#e8e8e8',\n  TAN_BASE: '#C4B5A0',\n  TAN_SELECTED: '#8B7355',\n  NAVY_BASE: '#5C7094',\n  NAVY_SELECTED: '#4A5568',\n  SECTION_TITLE_COLOR: '#2d3748',\n  PROGRESS_GRAY: '#ccc',\n  NAVY_DARK: '#001f44'\n};\nconst evaluationCriteria = [{\n  key: 'criticalthink',\n  label: 'Critical Thinking and Problem Solving',\n  scaleType: 'default',\n  colorType: 'tan',\n  dbColumn: 'contribution_score'\n}, {\n  key: 'collaboration',\n  label: 'Collaboration and Leadership',\n  scaleType: 'default',\n  colorType: 'navy',\n  dbColumn: 'plan_mgmt_score'\n}, {\n  key: 'learning',\n  label: 'Self-directedness and meta-learning',\n  scaleType: 'default',\n  colorType: 'tan',\n  dbColumn: 'team_climate_score'\n}, {\n  key: 'communication',\n  label: 'Communication',\n  scaleType: 'default',\n  colorType: 'navy',\n  dbColumn: 'conflict_res_score'\n}, {\n  key: 'overall',\n  label: 'Overall',\n  scaleType: 'overall',\n  colorType: 'tan',\n  dbColumn: 'overall_rating'\n}];\n\n// --- Custom Components (UNCHANGED from previous version) ---\nfunction RatingButton({\n  value,\n  selected,\n  onChange,\n  name,\n  ratingId,\n  colorType\n}) {\n  // ... logic UNCHANGED\n  const isTan = colorType === 'tan';\n  const baseColor = isTan ? COLORS.TAN_BASE : COLORS.NAVY_BASE;\n  const selectedColor = isTan ? COLORS.TAN_SELECTED : COLORS.NAVY_SELECTED;\n  const style = {\n    backgroundColor: selected ? selectedColor : COLORS.WHITE,\n    color: selected ? COLORS.WHITE : COLORS.TEXT_PRIMARY,\n    minWidth: '60px',\n    height: '54px',\n    borderRadius: '16px',\n    fontSize: '18px',\n    fontWeight: 'normal',\n    border: `2px solid ${selected ? selectedColor : baseColor}`,\n    cursor: 'pointer',\n    transition: 'all 0.2s',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',\n    fontFamily: 'Joan, serif'\n  };\n  return /*#__PURE__*/_jsxDEV(\"label\", {\n    htmlFor: ratingId,\n    style: {\n      flexGrow: 1,\n      margin: '0 4px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: ratingId,\n      type: \"radio\",\n      name: name,\n      value: value,\n      checked: selected,\n      onChange: e => onChange(parseInt(e.target.value)),\n      style: {\n        position: 'absolute',\n        opacity: 0,\n        pointerEvents: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: style,\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 7\n  }, this);\n}\n_c = RatingButton;\nfunction RatingInput({\n  label,\n  value,\n  onChange,\n  name,\n  error,\n  scaleType = \"default\",\n  colorType\n}) {\n  // ... logic UNCHANGED\n  const scales = {\n    default: {\n      values: [0, 1, 2, 3, 4],\n      keyText: \"0= Never, 1= Sometimes, 2= Usually, 3= Regularly, 4= Always\"\n    },\n    overall: {\n      values: [0, 1, 2, 3, 4],\n      keyText: \"0= Poor, 1= Fair, 2= Good, 3= Very Good, 4= Excellent\"\n    }\n  };\n  const currentScale = scales[scaleType];\n  const headerStyle = {\n    fontSize: '28px',\n    fontWeight: 'normal',\n    color: colorType === 'navy' ? COLORS.NAVY_BUTTON : COLORS.TAN_SELECTED,\n    fontFamily: 'Joan, serif',\n    marginTop: '30px',\n    marginBottom: '15px',\n    paddingLeft: '20px',\n    paddingRight: '20px',\n    textShadow: '0px 2px 4px rgba(0,0,0,0.1)'\n  };\n  const contentPaddingStyle = {\n    paddingLeft: '20px',\n    paddingRight: '20px'\n  };\n  const questionTextStyle = {\n    fontSize: '14px',\n    fontWeight: '500',\n    color: COLORS.TEXT_PRIMARY,\n    marginBottom: '10px',\n    fontFamily: 'Georgia, serif'\n  };\n  const buttonsContainerStyle = {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    gap: '5px',\n    maxWidth: '350px'\n  };\n  const errorStyle = {\n    marginTop: '10px',\n    backgroundColor: COLORS.ERROR_RED,\n    color: COLORS.WHITE,\n    padding: '8px 16px',\n    fontSize: '14px',\n    textAlign: 'center',\n    fontWeight: '500',\n    fontFamily: 'Georgia, serif'\n  };\n  const keyTextStyle = {\n    fontSize: '12px',\n    color: COLORS.TEXT_SECONDARY,\n    marginTop: '10px',\n    display: 'block',\n    fontFamily: 'Georgia, serif'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: headerStyle,\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...questionTextStyle,\n        ...contentPaddingStyle\n      },\n      children: \"Rate on a scale of 0 to 4:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...buttonsContainerStyle,\n        ...contentPaddingStyle\n      },\n      children: currentScale.values.map(rating => {\n        const ratingId = `${name}-${rating}`;\n        return /*#__PURE__*/_jsxDEV(RatingButton, {\n          value: rating,\n          selected: value === rating,\n          onChange: val => onChange(val),\n          name: name,\n          ratingId: ratingId,\n          colorType: colorType\n        }, rating, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        ...keyTextStyle,\n        ...contentPaddingStyle\n      },\n      children: currentScale.keyText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...errorStyle,\n        ...contentPaddingStyle\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 9\n  }, this);\n}\n\n// --- Main Component ---\n_c2 = RatingInput;\nexport default function EvaluationForm() {\n  _s();\n  // *** CRITICAL: Set the ID of the current user to exclude them from the list ***\n  // Based on your data, let's assume the evaluator is Ryan Danziger (ID 3)\n  const MOCK_EVALUATOR_ID = 3;\n  const {\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n  const [teammates, setTeammates] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [fetchError, setFetchError] = useState(null);\n  const [currentTeammateIndex, setCurrentTeammateIndex] = useState(0);\n  const [evaluations, setEvaluations] = useState([]);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [formData, setFormData] = useState(() => {\n    const initial = evaluationCriteria.reduce((acc, criteria) => {\n      acc[criteria.key] = null;\n      return acc;\n    }, {});\n    initial.feedback = '';\n    return initial;\n  });\n\n  // Get the current teammate to evaluate from the fetched list\n  const currentTeammate = teammates[currentTeammateIndex];\n\n  // --- Fetch Teammates Data on Component Mount ---\n  useEffect(() => {\n    const fetchTeammates = async () => {\n      try {\n        const response = await fetch('http://localhost:3001/api/teammates');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n\n        // Filter out the current evaluator using the mock ID\n        const filteredData = data.filter(t => t.id !== MOCK_EVALUATOR_ID);\n        setTeammates(filteredData);\n        if (filteredData.length === 0) {\n          setFetchError(\"No teammates found to evaluate.\");\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch teammates:\", error);\n        setFetchError(`Could not load teammates. Is the backend server running on port 3001? Error: ${error.message}`);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchTeammates();\n  }, []); // Empty dependency array means run once on mount\n\n  // --- Helper Functions (UNCHANGED) ---\n  const resetForm = useCallback(() => {\n    const initial = evaluationCriteria.reduce((acc, criteria) => {\n      acc[criteria.key] = null;\n      return acc;\n    }, {});\n    initial.feedback = '';\n    setFormData(initial);\n    setErrors({});\n  }, []);\n  const validateForm = useCallback(() => {\n    const newErrors = {};\n    evaluationCriteria.forEach(({\n      key,\n      label\n    }) => {\n      if (formData[key] === null) {\n        newErrors[key] = `Rating for \"${label}\" is required`;\n      }\n    });\n    if (formData.feedback === null || formData.feedback.trim().length === 0) {\n      newErrors.feedback = 'Written feedback is mandatory';\n    } else if (formData.feedback.trim().length < 20) {\n      newErrors.feedback = 'Feedback must be at least 20 characters';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData]);\n\n  // --- Handle Submission (UNCHANGED logic, now using fetched currentTeammate) ---\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm() || !currentTeammate) return;\n    const apiPayload = {\n      teammateId: currentTeammate.id,\n      evaluatorId: MOCK_EVALUATOR_ID,\n      // Use the correct evaluator ID\n      feedback: formData.feedback,\n      contribution_score: formData.criticalthink,\n      plan_mgmt_score: formData.collaboration,\n      team_climate_score: formData.learning,\n      conflict_res_score: formData.communication,\n      overall_rating: formData.overall\n    };\n    try {\n      const response = await fetch('http://localhost:3001/api/submit-evaluation', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(apiPayload)\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({\n          message: 'No detailed error message from server.'\n        }));\n        throw new Error(errorData.message || `HTTP Error! Status: ${response.status}`);\n      }\n      console.log(\"Evaluation successfully sent to API:\", apiPayload);\n      const evaluation = {\n        ...apiPayload,\n        teammateName: currentTeammate.name\n      };\n      setEvaluations([...evaluations, evaluation]);\n      if (currentTeammateIndex < teammates.length - 1) {\n        setCurrentTeammateIndex(currentTeammateIndex + 1);\n        resetForm();\n      } else {\n        setShowSuccess(true);\n      }\n    } catch (error) {\n      console.error('Submission Error:', error);\n      alert('Failed to submit evaluation. Check the console for details. Error: ' + error.message);\n    }\n  };\n\n  // --- Loading/Error UI ---\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '50px',\n        textAlign: 'center',\n        fontFamily: 'Georgia, serif'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '10px',\n          color: COLORS.TEXT_PRIMARY\n        },\n        children: \"Loading teammates from database...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }, this);\n  }\n  if (fetchError || teammates.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '50px',\n        textAlign: 'center',\n        color: COLORS.ERROR_RED,\n        fontFamily: 'Georgia, serif'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Evaluation Unavailable\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: fetchError || \"No teammates available for peer evaluation.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }, this);\n  }\n\n  // --- Success State (UNCHANGED) ---\n  if (showSuccess) {\n    const successContainerStyle = {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: '40px',\n      maxWidth: '500px',\n      margin: '50px auto',\n      backgroundColor: COLORS.WHITE,\n      borderRadius: '8px',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n      textAlign: 'center',\n      borderTop: `4px solid ${COLORS.TAN_SELECTED}`,\n      fontFamily: 'Georgia, serif'\n    };\n    const successButtonStyle = {\n      backgroundColor: COLORS.TAN_SELECTED,\n      color: COLORS.WHITE,\n      padding: '10px 20px',\n      borderRadius: '4px',\n      fontWeight: '600',\n      border: 'none',\n      cursor: 'pointer',\n      marginTop: '20px',\n      fontFamily: 'Georgia, serif'\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: successContainerStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '36px',\n          marginBottom: '16px'\n        },\n        children: \"\\u2705\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: '24px',\n          fontWeight: 'bold',\n          marginBottom: '8px'\n        },\n        children: \"Completed!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: COLORS.TEXT_PRIMARY,\n          marginBottom: '24px'\n        },\n        children: [\"Completed and submitted evaluations for all \", teammates.length, \" peers.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowSuccess(false);\n            setCurrentTeammateIndex(0);\n            setEvaluations([]);\n            resetForm();\n          },\n          style: successButtonStyle,\n          children: \"START NEW EVALUATION\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          style: {\n            ...successButtonStyle,\n            backgroundColor: COLORS.ERROR_RED\n          },\n          onMouseOver: e => e.target.style.backgroundColor = '#B56565',\n          onMouseOut: e => e.target.style.backgroundColor = COLORS.ERROR_RED,\n          children: \"LOGOUT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 9\n    }, this);\n  }\n\n  // --- Main Form Rendering (UNCHANGED) ---\n\n  const outerContainerStyle = {\n    fontFamily: 'Georgia, serif',\n    backgroundColor: COLORS.BODY_BACKGROUND,\n    minHeight: '100vh'\n  };\n  const mainContentAreaStyle = {\n    width: '100%',\n    backgroundColor: COLORS.WHITE\n  };\n  const headerBannerStyle = {\n    backgroundImage: `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(\"https://www.kenan-flagler.unc.edu/wp-content/uploads/nmc-images/2019/10/singapore_skyline-width2000height772.jpg\")`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    padding: '50px 0 10px 0',\n    position: 'relative'\n  };\n  const titleContainerStyle = {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 40px',\n    width: '100%'\n  };\n  const evalTitleStyle = {\n    fontSize: '30px',\n    fontWeight: 'normal',\n    margin: 0,\n    color: COLORS.WHITE,\n    position: 'relative',\n    display: 'inline-block',\n    paddingBottom: '5px'\n  };\n  const progressBarStyle = {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: COLORS.HEADER_BAR_BG,\n    padding: '10px 20px',\n    borderBottom: `1px solid ${COLORS.PROGRESS_GRAY}`\n  };\n  const teamInfoStyle = {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    color: COLORS.HEADER_TEXT,\n    fontSize: '18px',\n    fontWeight: '600',\n    padding: '0 20px'\n  };\n  const instructionBoxStyle = {\n    padding: '20px',\n    marginBottom: '15px',\n    fontSize: '14px',\n    lineHeight: '1.4',\n    color: COLORS.TEXT_PRIMARY\n  };\n  const keyBoldTextStyle = {\n    display: 'block',\n    margin: '10px 0 0 0',\n    fontWeight: 'bold',\n    color: COLORS.TEXT_PRIMARY,\n    fontSize: '14px'\n  };\n  const submitButtonStyle = {\n    backgroundColor: COLORS.NAVY_BUTTON,\n    color: COLORS.WHITE,\n    padding: '12px 20px',\n    borderRadius: '16px',\n    fontWeight: 'normal',\n    border: 'none',\n    cursor: 'pointer',\n    marginTop: '20px',\n    transition: 'background-color 0.2s',\n    fontFamily: 'Joan, serif',\n    fontSize: '24px',\n    textShadow: '0px 4px 4px rgba(0,0,0,0.25)'\n  };\n  const textareaStyle = {\n    width: '100%',\n    padding: '12px 16px',\n    border: 'none',\n    borderRadius: '16px',\n    minHeight: '120px',\n    fontSize: '18px',\n    resize: 'vertical',\n    fontFamily: 'Roboto, sans-serif',\n    fontWeight: '200',\n    backgroundColor: COLORS.WHITE,\n    color: COLORS.TEXT_PRIMARY\n  };\n  const footerTextStyle = {\n    textAlign: 'center',\n    fontSize: '12px',\n    color: COLORS.TEXT_SECONDARY,\n    marginTop: '20px',\n    paddingBottom: '20px',\n    padding: '20px'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: outerContainerStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: headerBannerStyle,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: titleContainerStyle,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: evalTitleStyle,\n          children: \"Peer Evaluation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: progressBarStyle,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: teamInfoStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'flex-start',\n            flexGrow: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '18px',\n              fontWeight: '600',\n              margin: 0,\n              color: COLORS.HEADER_TEXT,\n              position: 'relative',\n              display: 'inline-block',\n              paddingBottom: '5px'\n            },\n            children: [\"Evaluating: \", currentTeammate.name, /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                position: 'absolute',\n                bottom: 0,\n                left: 0,\n                width: '100%',\n                height: '2px',\n                backgroundColor: COLORS.UNDERLINE_BLUE\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'flex-end',\n            gap: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '18px',\n              color: COLORS.SUB_HEADER_TEXT,\n              fontWeight: '600'\n            },\n            children: \"Project Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '14px',\n              color: COLORS.TEXT_SECONDARY\n            },\n            children: [evaluations.length, \"/\", teammates.length, \" completed\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: mainContentAreaStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: instructionBoxStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '20px 0 0 0'\n          },\n          children: \"Teamwork is behaviors under control of the individual team members. In your experience, how often does your peer demonstrate the following? Rate the frequency of the teamwork behavior for each of your group members by choosing the corresponding number which may fall in the boxes provided.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: keyBoldTextStyle,\n          children: \"Key: 0= Never 1= Sometimes 2= Usually 3= Regularly 4= Always\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [evaluationCriteria.map(({\n          key,\n          label,\n          scaleType,\n          colorType\n        }) => /*#__PURE__*/_jsxDEV(RatingInput, {\n          label: label,\n          name: key,\n          value: formData[key],\n          onChange: value => setFormData({\n            ...formData,\n            [key]: value\n          }),\n          error: errors[key],\n          scaleType: scaleType,\n          colorType: colorType\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 19\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px',\n            marginTop: '30px',\n            padding: '0 20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '24px',\n              fontWeight: 'bold',\n              color: COLORS.SECTION_TITLE_COLOR,\n              fontFamily: 'Georgia, serif',\n              marginBottom: '15px'\n            },\n            children: \"Additional Comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              style: {\n                display: 'block',\n                fontSize: '14px',\n                fontWeight: '500',\n                color: COLORS.TEXT_PRIMARY,\n                marginBottom: '10px',\n                fontFamily: 'Georgia, serif'\n              },\n              children: \"Provide specific examples of this teammate's contributions, strengths, and areas for improvement:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 4,\n              style: textareaStyle,\n              placeholder: \"Start typing here...\",\n              value: formData.feedback,\n              onChange: e => setFormData({\n                ...formData,\n                feedback: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginTop: '4px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '12px',\n                  color: COLORS.TEXT_SECONDARY\n                },\n                children: [\"Minimum 20 characters (\", formData.feedback.length, \"/20)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 27\n              }, this), errors.feedback && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: COLORS.ERROR_RED,\n                  fontSize: '12px'\n                },\n                children: errors.feedback\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            paddingTop: '10px',\n            padding: '0 20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            style: {\n              ...submitButtonStyle,\n              backgroundColor: COLORS.TEXT_PRIMARY\n            },\n            disabled: currentTeammateIndex === 0,\n            onClick: () => {\n              setCurrentTeammateIndex(currentTeammateIndex - 1);\n              resetForm();\n            },\n            children: \"PREVIOUS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: submitButtonStyle,\n            children: currentTeammateIndex < teammates.length - 1 ? 'NEXT PEER' : 'SUBMIT ALL EVALUATIONS'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: footerTextStyle,\n          children: \"Mark up all peer evaluations. Click on each checkbox that matches the question and write a sentence representative. Also navigate back and forth and end it if they have done all the evaluations.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 518,\n    columnNumber: 5\n  }, this);\n}\n_s(EvaluationForm, \"RTnkWcKefKJBUm40k1JS1lD/8eE=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c3 = EvaluationForm;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"RatingButton\");\n$RefreshReg$(_c2, \"RatingInput\");\n$RefreshReg$(_c3, \"EvaluationForm\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Form","Spinner","useAuth","useNavigate","jsxDEV","_jsxDEV","COLORS","TAN_BACKGROUND","WHITE","NAVY_BUTTON","PLACEHOLDER_TEXT","TEXT_PRIMARY","TEXT_SECONDARY","ERROR_RED","BODY_BACKGROUND","HEADER_TEXT","SUB_HEADER_TEXT","UNDERLINE_BLUE","HEADER_BAR_BG","TAN_BASE","TAN_SELECTED","NAVY_BASE","NAVY_SELECTED","SECTION_TITLE_COLOR","PROGRESS_GRAY","NAVY_DARK","evaluationCriteria","key","label","scaleType","colorType","dbColumn","RatingButton","value","selected","onChange","name","ratingId","isTan","baseColor","selectedColor","style","backgroundColor","color","minWidth","height","borderRadius","fontSize","fontWeight","border","cursor","transition","display","alignItems","justifyContent","boxShadow","fontFamily","htmlFor","flexGrow","margin","children","id","type","checked","e","parseInt","target","position","opacity","pointerEvents","fileName","_jsxFileName","lineNumber","columnNumber","_c","RatingInput","error","scales","default","values","keyText","overall","currentScale","headerStyle","marginTop","marginBottom","paddingLeft","paddingRight","textShadow","contentPaddingStyle","questionTextStyle","buttonsContainerStyle","gap","maxWidth","errorStyle","padding","textAlign","keyTextStyle","map","rating","val","_c2","EvaluationForm","_s","MOCK_EVALUATOR_ID","logout","navigate","handleLogout","teammates","setTeammates","isLoading","setIsLoading","fetchError","setFetchError","currentTeammateIndex","setCurrentTeammateIndex","evaluations","setEvaluations","showSuccess","setShowSuccess","errors","setErrors","formData","setFormData","initial","reduce","acc","criteria","feedback","currentTeammate","fetchTeammates","response","fetch","ok","Error","status","data","json","filteredData","filter","t","length","console","message","resetForm","validateForm","newErrors","forEach","trim","Object","keys","handleSubmit","preventDefault","apiPayload","teammateId","evaluatorId","contribution_score","criticalthink","plan_mgmt_score","collaboration","team_climate_score","learning","conflict_res_score","communication","overall_rating","method","headers","body","JSON","stringify","errorData","catch","log","evaluation","teammateName","alert","animation","variant","successContainerStyle","flexDirection","borderTop","successButtonStyle","onClick","onMouseOver","onMouseOut","outerContainerStyle","minHeight","mainContentAreaStyle","width","headerBannerStyle","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","titleContainerStyle","evalTitleStyle","paddingBottom","progressBarStyle","borderBottom","teamInfoStyle","instructionBoxStyle","lineHeight","keyBoldTextStyle","submitButtonStyle","textareaStyle","resize","footerTextStyle","bottom","left","onSubmit","Group","Label","Control","as","rows","placeholder","paddingTop","disabled","_c3","$RefreshReg$"],"sources":["/Users/ryandanziger/Desktop/smu-web-application/peer-eval-system/frontend-clean/src/components/EvaluationForm.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Form, Spinner } from 'react-bootstrap';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom'; \n\n// --- Color Palette (matching Figma wireframes) ---\nconst COLORS = {\n  TAN_BACKGROUND: 'rgba(138,112,76,0.9)', // Main form background\n  WHITE: 'white',\n  NAVY_BUTTON: '#141b4d', // Dark navy for buttons\n  PLACEHOLDER_TEXT: '#8a704c', // Tan color for placeholders\n  TEXT_PRIMARY: '#2d3748',\n  TEXT_SECONDARY: '#5C7094',\n  ERROR_RED: '#C97C7C',\n  BODY_BACKGROUND: 'white',\n  HEADER_TEXT: '#2d3748', \n  SUB_HEADER_TEXT: '#5C7094', \n  UNDERLINE_BLUE: '#5C7094', \n  HEADER_BAR_BG: '#e8e8e8', \n  TAN_BASE: '#C4B5A0',\n  TAN_SELECTED: '#8B7355',\n  NAVY_BASE: '#5C7094',\n  NAVY_SELECTED: '#4A5568',\n  SECTION_TITLE_COLOR: '#2d3748',\n  PROGRESS_GRAY: '#ccc',\n  NAVY_DARK: '#001f44',\n};\n\nconst evaluationCriteria = [\n  { key: 'criticalthink', label: 'Critical Thinking and Problem Solving', scaleType: 'default', colorType: 'tan', dbColumn: 'contribution_score' },\n  { key: 'collaboration', label: 'Collaboration and Leadership', scaleType: 'default', colorType: 'navy', dbColumn: 'plan_mgmt_score' },\n  { key: 'learning', label: 'Self-directedness and meta-learning', scaleType: 'default', colorType: 'tan', dbColumn: 'team_climate_score' },\n  { key: 'communication', label: 'Communication', scaleType: 'default', colorType: 'navy', dbColumn: 'conflict_res_score' },\n  { key: 'overall', label: 'Overall', scaleType: 'overall', colorType: 'tan', dbColumn: 'overall_rating' }\n];\n\n// --- Custom Components (UNCHANGED from previous version) ---\nfunction RatingButton({ value, selected, onChange, name, ratingId, colorType }) { \n    // ... logic UNCHANGED\n    const isTan = colorType === 'tan';\n    const baseColor = isTan ? COLORS.TAN_BASE : COLORS.NAVY_BASE;\n    const selectedColor = isTan ? COLORS.TAN_SELECTED : COLORS.NAVY_SELECTED;\n  \n    const style = {\n      backgroundColor: selected ? selectedColor : COLORS.WHITE,\n      color: selected ? COLORS.WHITE : COLORS.TEXT_PRIMARY,\n      minWidth: '60px', \n      height: '54px',\n      borderRadius: '16px',\n      fontSize: '18px',\n      fontWeight: 'normal',\n      border: `2px solid ${selected ? selectedColor : baseColor}`,\n      cursor: 'pointer',\n      transition: 'all 0.2s',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',\n      fontFamily: 'Joan, serif',\n    };\n  \n    return (\n      <label htmlFor={ratingId} style={{ flexGrow: 1, margin: '0 4px' }}>\n        <input\n          id={ratingId}\n          type=\"radio\"\n          name={name}\n          value={value}\n          checked={selected}\n          onChange={(e) => onChange(parseInt(e.target.value))} \n          style={{ position: 'absolute', opacity: 0, pointerEvents: 'none' }}\n        />\n        <div style={style}>\n          {value}\n        </div>\n      </label>\n    );\n}\n\nfunction RatingInput({ label, value, onChange, name, error, scaleType = \"default\", colorType }) { \n    // ... logic UNCHANGED\n    const scales = {\n        default: {\n          values: [0, 1, 2, 3, 4],\n          keyText: \"0= Never, 1= Sometimes, 2= Usually, 3= Regularly, 4= Always\"\n        },\n        overall: {\n          values: [0, 1, 2, 3, 4],\n          keyText: \"0= Poor, 1= Fair, 2= Good, 3= Very Good, 4= Excellent\"\n        }\n      };\n    \n      const currentScale = scales[scaleType];\n      \n      const headerStyle = {\n        fontSize: '28px', \n        fontWeight: 'normal',\n        color: colorType === 'navy' ? COLORS.NAVY_BUTTON : COLORS.TAN_SELECTED, \n        fontFamily: 'Joan, serif',\n        marginTop: '30px', \n        marginBottom: '15px', \n        paddingLeft: '20px', \n        paddingRight: '20px',\n        textShadow: '0px 2px 4px rgba(0,0,0,0.1)',\n      };\n    \n      const contentPaddingStyle = {\n        paddingLeft: '20px', \n        paddingRight: '20px',\n      }\n    \n      const questionTextStyle = {\n        fontSize: '14px',\n        fontWeight: '500',\n        color: COLORS.TEXT_PRIMARY,\n        marginBottom: '10px',\n        fontFamily: 'Georgia, serif',\n      };\n    \n      const buttonsContainerStyle = {\n        display: 'flex',\n        justifyContent: 'flex-start',\n        gap: '5px',\n        maxWidth: '350px', \n      };\n        \n      const errorStyle = {\n        marginTop: '10px',\n        backgroundColor: COLORS.ERROR_RED,\n        color: COLORS.WHITE,\n        padding: '8px 16px',\n        fontSize: '14px',\n        textAlign: 'center',\n        fontWeight: '500',\n        fontFamily: 'Georgia, serif',\n      };\n    \n      const keyTextStyle = {\n        fontSize: '12px',\n        color: COLORS.TEXT_SECONDARY,\n        marginTop: '10px',\n        display: 'block',\n        fontFamily: 'Georgia, serif',\n      };\n    \n      return (\n        <div style={{ marginBottom: '20px' }}>\n          <h2 style={headerStyle}>{label}</h2>\n          \n          <div style={{...questionTextStyle, ...contentPaddingStyle}}>Rate on a scale of 0 to 4:</div>\n          \n          <div style={{...buttonsContainerStyle, ...contentPaddingStyle}}>\n            {currentScale.values.map((rating) => {\n              const ratingId = `${name}-${rating}`;\n              return (\n                <RatingButton\n                  key={rating}\n                  value={rating}\n                  selected={value === rating}\n                  onChange={(val) => onChange(val)}\n                  name={name}\n                  ratingId={ratingId}\n                  colorType={colorType} \n                />\n              );\n            })}\n          </div>\n    \n          <span style={{...keyTextStyle, ...contentPaddingStyle}}>{currentScale.keyText}</span>\n          {error && <div style={{...errorStyle, ...contentPaddingStyle}}>{error}</div>}\n        </div>\n      );\n}\n\n// --- Main Component ---\nexport default function EvaluationForm() {\n  // *** CRITICAL: Set the ID of the current user to exclude them from the list ***\n  // Based on your data, let's assume the evaluator is Ryan Danziger (ID 3)\n  const MOCK_EVALUATOR_ID = 3;\n  \n  const { logout } = useAuth();\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  }; \n\n  const [teammates, setTeammates] = useState([]); \n  const [isLoading, setIsLoading] = useState(true); \n  const [fetchError, setFetchError] = useState(null); \n    \n  const [currentTeammateIndex, setCurrentTeammateIndex] = useState(0);\n  const [evaluations, setEvaluations] = useState([]);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [formData, setFormData] = useState(() => {\n    const initial = evaluationCriteria.reduce((acc, criteria) => {\n      acc[criteria.key] = null;\n      return acc;\n    }, {});\n    initial.feedback = '';\n    return initial;\n  });\n  \n  // Get the current teammate to evaluate from the fetched list\n  const currentTeammate = teammates[currentTeammateIndex];\n\n  \n  // --- Fetch Teammates Data on Component Mount ---\n  useEffect(() => {\n    const fetchTeammates = async () => {\n      try {\n        const response = await fetch('http://localhost:3001/api/teammates');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        \n        // Filter out the current evaluator using the mock ID\n        const filteredData = data.filter(t => t.id !== MOCK_EVALUATOR_ID); \n        \n        setTeammates(filteredData);\n        if (filteredData.length === 0) {\n            setFetchError(\"No teammates found to evaluate.\");\n        }\n        \n      } catch (error) {\n        console.error(\"Failed to fetch teammates:\", error);\n        setFetchError(`Could not load teammates. Is the backend server running on port 3001? Error: ${error.message}`);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    \n    fetchTeammates();\n  }, []); // Empty dependency array means run once on mount\n\n\n  // --- Helper Functions (UNCHANGED) ---\n  const resetForm = useCallback(() => {\n    const initial = evaluationCriteria.reduce((acc, criteria) => {\n        acc[criteria.key] = null;\n        return acc;\n      }, {});\n      initial.feedback = '';\n      setFormData(initial);\n      setErrors({});\n  }, []);\n\n  const validateForm = useCallback(() => {\n    const newErrors = {};\n    evaluationCriteria.forEach(({ key, label }) => {\n      if (formData[key] === null) {\n        newErrors[key] = `Rating for \"${label}\" is required`;\n      }\n    });\n    if (formData.feedback === null || formData.feedback.trim().length === 0) {\n      newErrors.feedback = 'Written feedback is mandatory';\n    } else if (formData.feedback.trim().length < 20) {\n        newErrors.feedback = 'Feedback must be at least 20 characters';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData]);\n\n\n  // --- Handle Submission (UNCHANGED logic, now using fetched currentTeammate) ---\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validateForm() || !currentTeammate) return;\n\n    const apiPayload = {\n      teammateId: currentTeammate.id,\n      evaluatorId: MOCK_EVALUATOR_ID, // Use the correct evaluator ID\n      feedback: formData.feedback,\n      \n      contribution_score: formData.criticalthink, \n      plan_mgmt_score: formData.collaboration,\n      team_climate_score: formData.learning,\n      conflict_res_score: formData.communication,\n      overall_rating: formData.overall\n    };\n\n    try {\n        const response = await fetch('http://localhost:3001/api/submit-evaluation', { \n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(apiPayload),\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({ message: 'No detailed error message from server.' }));\n            throw new Error(errorData.message || `HTTP Error! Status: ${response.status}`);\n        }\n\n        console.log(\"Evaluation successfully sent to API:\", apiPayload);\n\n        const evaluation = { ...apiPayload, teammateName: currentTeammate.name };\n        setEvaluations([...evaluations, evaluation]);\n\n        if (currentTeammateIndex < teammates.length - 1) { \n            setCurrentTeammateIndex(currentTeammateIndex + 1);\n            resetForm();\n        } else {\n            setShowSuccess(true);\n        }\n\n    } catch (error) {\n        console.error('Submission Error:', error);\n        alert('Failed to submit evaluation. Check the console for details. Error: ' + error.message);\n    }\n  };\n\n\n  // --- Loading/Error UI ---\n  if (isLoading) {\n    return (\n        <div style={{ padding: '50px', textAlign: 'center', fontFamily: 'Georgia, serif' }}>\n            <Spinner animation=\"border\" variant=\"secondary\" />\n            <p style={{ marginTop: '10px', color: COLORS.TEXT_PRIMARY }}>Loading teammates from database...</p>\n        </div>\n    );\n  }\n  \n  if (fetchError || teammates.length === 0) {\n    return (\n        <div style={{ padding: '50px', textAlign: 'center', color: COLORS.ERROR_RED, fontFamily: 'Georgia, serif' }}>\n            <h2>Evaluation Unavailable</h2>\n            <p>{fetchError || \"No teammates available for peer evaluation.\"}</p>\n        </div>\n    );\n  }\n\n\n  // --- Success State (UNCHANGED) ---\n  if (showSuccess) {\n    const successContainerStyle = {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: '40px',\n        maxWidth: '500px',\n        margin: '50px auto',\n        backgroundColor: COLORS.WHITE,\n        borderRadius: '8px',\n        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n        textAlign: 'center',\n        borderTop: `4px solid ${COLORS.TAN_SELECTED}`,\n        fontFamily: 'Georgia, serif',\n      };\n  \n      const successButtonStyle = {\n        backgroundColor: COLORS.TAN_SELECTED,\n        color: COLORS.WHITE,\n        padding: '10px 20px',\n        borderRadius: '4px',\n        fontWeight: '600',\n        border: 'none',\n        cursor: 'pointer',\n        marginTop: '20px',\n        fontFamily: 'Georgia, serif',\n      };\n  \n      return (\n        <div style={successContainerStyle}>\n          <div style={{ fontSize: '36px', marginBottom: '16px' }}>âœ…</div>\n          <h2 style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '8px' }}>Completed!</h2>\n          <p style={{ color: COLORS.TEXT_PRIMARY, marginBottom: '24px' }}>\n            Completed and submitted evaluations for all {teammates.length} peers.\n          </p>\n          <div style={{ display: 'flex', gap: '10px', justifyContent: 'center' }}>\n            <button\n              onClick={() => {\n                setShowSuccess(false);\n                setCurrentTeammateIndex(0);\n                setEvaluations([]);\n                resetForm();\n              }}\n              style={successButtonStyle}\n            >\n              START NEW EVALUATION\n            </button>\n            <button\n              onClick={handleLogout}\n              style={{\n                ...successButtonStyle,\n                backgroundColor: COLORS.ERROR_RED,\n              }}\n              onMouseOver={(e) => e.target.style.backgroundColor = '#B56565'}\n              onMouseOut={(e) => e.target.style.backgroundColor = COLORS.ERROR_RED}\n            >\n              LOGOUT\n            </button>\n          </div>\n        </div>\n      );\n  }\n\n  // --- Main Form Rendering (UNCHANGED) ---\n\n  const outerContainerStyle = {\n    fontFamily: 'Georgia, serif', \n    backgroundColor: COLORS.BODY_BACKGROUND, \n    minHeight: '100vh',\n  }\n  \n  const mainContentAreaStyle = {\n    width: '100%',\n    backgroundColor: COLORS.WHITE, \n  };\n  \n  const headerBannerStyle = {\n    backgroundImage: `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(\"https://www.kenan-flagler.unc.edu/wp-content/uploads/nmc-images/2019/10/singapore_skyline-width2000height772.jpg\")`, \n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    padding: '50px 0 10px 0', \n    position: 'relative',\n  };\n\n\n  const titleContainerStyle = { \n    display: 'flex', \n    alignItems: 'center', \n    padding: '0 40px', \n    width: '100%',\n  }\n  \n  const evalTitleStyle = { \n    fontSize: '30px',\n    fontWeight: 'normal',\n    margin: 0,\n    color: COLORS.WHITE,\n    position: 'relative',\n    display: 'inline-block',\n    paddingBottom: '5px',\n  };\n\n  const progressBarStyle = {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      backgroundColor: COLORS.HEADER_BAR_BG,\n      padding: '10px 20px',\n      borderBottom: `1px solid ${COLORS.PROGRESS_GRAY}`,\n  }\n\n  const teamInfoStyle = {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      color: COLORS.HEADER_TEXT,\n      fontSize: '18px',\n      fontWeight: '600',\n      padding: '0 20px', \n  }\n\n  const instructionBoxStyle = {\n    padding: '20px', \n    marginBottom: '15px',\n    fontSize: '14px',\n    lineHeight: '1.4',\n    color: COLORS.TEXT_PRIMARY,\n  };\n\n  const keyBoldTextStyle = {\n    display: 'block',\n    margin: '10px 0 0 0',\n    fontWeight: 'bold',\n    color: COLORS.TEXT_PRIMARY,\n    fontSize: '14px',\n  };\n\n  const submitButtonStyle = {\n    backgroundColor: COLORS.NAVY_BUTTON,\n    color: COLORS.WHITE,\n    padding: '12px 20px',\n    borderRadius: '16px',\n    fontWeight: 'normal',\n    border: 'none',\n    cursor: 'pointer',\n    marginTop: '20px',\n    transition: 'background-color 0.2s',\n    fontFamily: 'Joan, serif',\n    fontSize: '24px',\n    textShadow: '0px 4px 4px rgba(0,0,0,0.25)',\n  };\n  \n  const textareaStyle = {\n    width: '100%',\n    padding: '12px 16px',\n    border: 'none',\n    borderRadius: '16px',\n    minHeight: '120px',\n    fontSize: '18px',\n    resize: 'vertical',\n    fontFamily: 'Roboto, sans-serif',\n    fontWeight: '200',\n    backgroundColor: COLORS.WHITE,\n    color: COLORS.TEXT_PRIMARY,\n  };\n\n  const footerTextStyle = {\n    textAlign: 'center',\n    fontSize: '12px',\n    color: COLORS.TEXT_SECONDARY,\n    marginTop: '20px',\n    paddingBottom: '20px',\n    padding: '20px',\n  };\n\n\n  return (\n    <div style={outerContainerStyle}>\n      {/* Header Banner - Full Width Image/Title */}\n      <div style={headerBannerStyle}>\n          <div style={titleContainerStyle}>\n              <h1 style={evalTitleStyle}>Peer Evaluation</h1> \n          </div>\n      </div>\n      \n      {/* Progress/Team Info Bar - Full Width Bar */}\n      <div style={progressBarStyle}>\n          <div style={teamInfoStyle}>\n              {/* Left Side: Evaluating, Name, Underline */}\n              <div style={{display: 'flex', flexDirection: 'column', alignItems: 'flex-start', flexGrow: 1}}>\n                  <h2 style={{\n                      fontSize: '18px',\n                      fontWeight: '600',\n                      margin: 0,\n                      color: COLORS.HEADER_TEXT,\n                      position: 'relative',\n                      display: 'inline-block',\n                      paddingBottom: '5px',\n                  }}>\n                      {/* Dynamically display the current teammate's name */}\n                      Evaluating: {currentTeammate.name}\n                      <span style={{\n                          position: 'absolute',\n                          bottom: 0,\n                          left: 0,\n                          width: '100%',\n                          height: '2px',\n                          backgroundColor: COLORS.UNDERLINE_BLUE,\n                      }}></span>\n                  </h2>\n              </div>\n              {/* Right Side: Project Management & Progress */}\n              <div style={{display: 'flex', alignItems: 'flex-end', gap: '20px'}}>\n                  <span style={{fontSize: '18px', color: COLORS.SUB_HEADER_TEXT, fontWeight: '600'}}>\n                      Project Management\n                  </span>\n                  <span style={{fontSize: '14px', color: COLORS.TEXT_SECONDARY}}>\n                      {/* Dynamically display progress: Completed / Total Peers */}\n                      {evaluations.length}/{teammates.length} completed\n                  </span>\n              </div>\n          </div>\n      </div>\n\n\n      {/* MAIN CONTENT AREA */}\n      <div style={mainContentAreaStyle}>\n          {/* Instructions (UNCHANGED) */}\n          <div style={instructionBoxStyle}>\n              <p style={{ margin: '20px 0 0 0' }}>\n                  Teamwork is behaviors under control of the individual team members. In your experience, how often does your peer\n                  demonstrate the following? Rate the frequency of the teamwork behavior for each of your group members by choosing the\n                  corresponding number which may fall in the boxes provided.\n              </p>\n              <span style={keyBoldTextStyle}>\n                  Key: 0= Never 1= Sometimes 2= Usually 3= Regularly 4= Always\n              </span>\n          </div>\n\n          <Form onSubmit={handleSubmit}>\n              {/* Rating Inputs (UNCHANGED) */}\n              {evaluationCriteria.map(({ key, label, scaleType, colorType }) => (\n                  <RatingInput\n                      key={key}\n                      label={label}\n                      name={key}\n                      value={formData[key]}\n                      onChange={(value) => setFormData({ ...formData, [key]: value })}\n                      error={errors[key]}\n                      scaleType={scaleType}\n                      colorType={colorType} \n                  />\n              ))}\n              \n              {/* Written Feedback Section (UNCHANGED) */}\n              <div style={{ marginBottom: '20px', marginTop: '30px', padding: '0 20px' }}>\n                  <h2 style={{\n                      fontSize: '24px', \n                      fontWeight: 'bold',\n                      color: COLORS.SECTION_TITLE_COLOR,\n                      fontFamily: 'Georgia, serif',\n                      marginBottom: '15px',\n                  }}>Additional Comments</h2>\n                  \n                  <Form.Group>\n                      <Form.Label style={{ display: 'block', fontSize: '14px', fontWeight: '500', color: COLORS.TEXT_PRIMARY, marginBottom: '10px', fontFamily: 'Georgia, serif' }}>\n                          Provide specific examples of this teammate's contributions, strengths, and areas for improvement:\n                      </Form.Label>\n                      <Form.Control\n                          as=\"textarea\"\n                          rows={4}\n                          style={textareaStyle}\n                          placeholder=\"Start typing here...\"\n                          value={formData.feedback}\n                          onChange={(e) => setFormData({ ...formData, feedback: e.target.value })}\n                      />\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '4px' }}>\n                          <span style={{ fontSize: '12px', color: COLORS.TEXT_SECONDARY }}>\n                              Minimum 20 characters ({formData.feedback.length}/20)\n                          </span>\n                          {errors.feedback && <div style={{ color: COLORS.ERROR_RED, fontSize: '12px' }}>{errors.feedback}</div>}\n                      </div>\n                  </Form.Group>\n              </div>\n\n              {/* Navigation Buttons */}\n              <div style={{ display: 'flex', justifyContent: 'space-between', paddingTop: '10px', padding: '0 20px' }}>\n                  <button\n                      type=\"button\"\n                      style={{ ...submitButtonStyle, backgroundColor: COLORS.TEXT_PRIMARY }}\n                      disabled={currentTeammateIndex === 0}\n                      onClick={() => {\n                          setCurrentTeammateIndex(currentTeammateIndex - 1);\n                          resetForm();\n                      }}\n                  >\n                      PREVIOUS\n                  </button>\n                  <button type=\"submit\" style={submitButtonStyle}>\n                      {currentTeammateIndex < teammates.length - 1 ? 'NEXT PEER' : 'SUBMIT ALL EVALUATIONS'}\n                  </button>\n              </div>\n\n              {/* Footer Text (UNCHANGED) */}\n              <p style={footerTextStyle}>\n                  Mark up all peer evaluations. Click on each checkbox that matches the question and write a sentence representative. Also navigate back and forth and end it if they have done all the evaluations.\n              </p>\n          </Form>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}