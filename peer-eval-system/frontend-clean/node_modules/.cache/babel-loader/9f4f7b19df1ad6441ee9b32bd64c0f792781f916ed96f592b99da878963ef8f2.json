{"ast":null,"code":"import _objectSpread from\"/Users/ryandanziger/Desktop/smu-web-application/peer-eval-system/frontend-clean/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useParams,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import API_URL from'../config';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const COLORS={TAN_BACKGROUND:'rgba(138,112,76,0.9)',WHITE:'white',NAVY_BUTTON:'#141b4d',PLACEHOLDER_TEXT:'#8a704c',TEXT_PRIMARY:'#2d3748',TEXT_SECONDARY:'#5C7094',ERROR_RED:'#C97C7C',SUCCESS_GREEN:'#4CAF50',BODY_BACKGROUND:'white',HEADER_TEXT:'#2d3748',HEADER_BAR_BG:'#e8e8e8',TAN_BASE:'#C4B5A0',TAN_SELECTED:'#8B7355',NAVY_BASE:'#5C7094',NAVY_SELECTED:'#4A5568',BROWN_TAN:'#8a704c'};export default function EvaluationAssignment(){const{courseId}=useParams();const navigate=useNavigate();const{user}=useAuth();const[course,setCourse]=useState(null);const[groups,setGroups]=useState([]);const[students,setStudents]=useState([]);const[assignments,setAssignments]=useState([]);// Form state matching Figma design\nconst[description,setDescription]=useState('');const[points,setPoints]=useState('25');const[assignToType,setAssignToType]=useState('groups');// 'everyone' or 'groups'\nconst[selectedGroups,setSelectedGroups]=useState([]);const[selectedStudents,setSelectedStudents]=useState([]);const[dueDate,setDueDate]=useState('');const[dueTime,setDueTime]=useState('');const[availableFromDate,setAvailableFromDate]=useState('');const[availableFromTime,setAvailableFromTime]=useState('');const[untilDate,setUntilDate]=useState('');const[untilTime,setUntilTime]=useState('');const[searchQuery,setSearchQuery]=useState('');const[showGroupDropdown,setShowGroupDropdown]=useState(false);const[showStudentDropdown,setShowStudentDropdown]=useState(false);const[pendingAssignments,setPendingAssignments]=useState([]);const[isLoading,setIsLoading]=useState(true);const[isSubmitting,setIsSubmitting]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const fetchCourseInfo=useCallback(async()=>{try{const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId));const data=await response.json();if(response.ok){setCourse(data.course);}}catch(err){console.error('Error fetching course:',err);}},[courseId]);const fetchGroups=useCallback(async()=>{try{const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/groups\"));const data=await response.json();if(response.ok){setGroups(data.groups||[]);}}catch(err){console.error('Error fetching groups:',err);}},[courseId]);const fetchStudents=useCallback(async()=>{try{const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/roster\"));const data=await response.json();if(response.ok){setStudents(data.roster||[]);}}catch(err){console.error('Error fetching students:',err);}},[courseId]);const fetchAssignments=useCallback(async()=>{try{const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/evaluation-assignments\"));const data=await response.json();if(response.ok){setAssignments(data.assignments||[]);}}catch(err){console.error('Error fetching assignments:',err);}},[courseId]);useEffect(()=>{const loadData=async()=>{setIsLoading(true);await Promise.all([fetchCourseInfo(),fetchGroups(),fetchStudents(),fetchAssignments()]);setIsLoading(false);};loadData();},[courseId,fetchCourseInfo,fetchGroups,fetchStudents,fetchAssignments]);// Close dropdowns when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(showGroupDropdown&&!event.target.closest('[data-dropdown]')){setShowGroupDropdown(false);}if(showStudentDropdown&&!event.target.closest('[data-dropdown]')){setShowStudentDropdown(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[showGroupDropdown,showStudentDropdown]);// Handle \"Everyone\" selection\nconst handleEveryoneToggle=()=>{if(assignToType==='everyone'){setAssignToType('groups');setSelectedGroups([]);}else{setAssignToType('everyone');setSelectedGroups([]);setSelectedStudents([]);}};// Handle group selection\nconst handleGroupToggle=group=>{setSelectedGroups(prev=>{const isSelected=prev.find(g=>g.groupid===group.groupid);const newGroups=isSelected?prev.filter(g=>g.groupid!==group.groupid):[...prev,group];console.log('Group toggled:',group.group_name,'Selected groups:',newGroups.map(g=>g.group_name));return newGroups;});setShowGroupDropdown(false);};// Handle student selection\nconst handleStudentToggle=student=>{if(selectedStudents.find(s=>s.studentid===student.studentid)){setSelectedStudents(prev=>prev.filter(s=>s.studentid!==student.studentid));}else{setSelectedStudents(prev=>[...prev,student]);}setShowStudentDropdown(false);};// Remove selected group\nconst removeGroup=groupId=>{setSelectedGroups(prev=>prev.filter(g=>g.groupid!==groupId));};// Remove selected student\nconst removeStudent=studentId=>{setSelectedStudents(prev=>prev.filter(s=>s.studentid!==studentId));};// Filter groups/students based on search\nconst filteredGroups=groups.filter(g=>g.group_name.toLowerCase().includes(searchQuery.toLowerCase()));const filteredStudents=students.filter(s=>s.studentname.toLowerCase().includes(searchQuery.toLowerCase()));// Handle \"Assign To\" button - adds to pending assignments\nconst handleAddToPending=()=>{if(!dueDate){setError('Please select a due date');return;}console.log('Add to pending - assignToType:',assignToType,'selectedGroups:',selectedGroups.length);if(assignToType==='everyone'){// Add assignment for all students in all groups\nif(groups.length===0){setError('No groups available. Please create groups first.');return;}const newAssignments=groups.map(group=>({groupId:group.groupid,groupName:group.group_name,evaluatorType:'everyone',description,points:parseInt(points)||0,dueDate:dueDate?\"\".concat(dueDate,\"T\").concat(dueTime||'23:59'):null,availableFrom:availableFromDate?\"\".concat(availableFromDate,\"T\").concat(availableFromTime||'00:00'):null,until:untilDate?\"\".concat(untilDate,\"T\").concat(untilTime||'23:59'):null}));setPendingAssignments(prev=>[...prev,...newAssignments]);setSuccess(\"Added \".concat(newAssignments.length,\" assignment(s) for all students\"));}else if(selectedGroups.length>0){// Add assignments for selected groups\n// If no students selected, we'll fetch students in each group when saving\nconst evaluatorIds=selectedStudents.length>0?selectedStudents.map(s=>s.studentid):null;// null means use students IN THE GROUP (not all course students)\nconsole.log('Creating assignments for groups:',{selectedGroups:selectedGroups.map(g=>g.group_name),evaluatorIds,selectedStudentsCount:selectedStudents.length,note:evaluatorIds?'Using selected students':'Will use students in each group'});const newAssignments=selectedGroups.map(group=>({groupId:group.groupid,groupName:group.group_name,evaluatorType:'group',evaluatorIds:evaluatorIds,// null means use group members\ndescription,points:parseInt(points)||0,dueDate:dueDate?\"\".concat(dueDate,\"T\").concat(dueTime||'23:59'):null,availableFrom:availableFromDate?\"\".concat(availableFromDate,\"T\").concat(availableFromTime||'00:00'):null,until:untilDate?\"\".concat(untilDate,\"T\").concat(untilTime||'23:59'):null}));setPendingAssignments(prev=>[...prev,...newAssignments]);setSuccess(\"Added \".concat(newAssignments.length,\" assignment(s)\"));}else{setError('Please select at least one group or choose \"Everyone\"');return;}// Clear form\nsetDescription('');setPoints('25');setAssignToType('groups');setSelectedGroups([]);setSelectedStudents([]);setDueDate('');setDueTime('');setAvailableFromDate('');setAvailableFromTime('');setUntilDate('');setUntilTime('');setSearchQuery('');setSuccess('Assignment added to pending list');};// Handle final \"Save and Assign\" - creates all pending assignments\nconst handleSaveAndAssign=async()=>{if(pendingAssignments.length===0){setError('No assignments to save. Please add assignments first.');return;}setIsSubmitting(true);setError('');setSuccess('');try{let totalCreated=0;const errors=[];for(const assignment of pendingAssignments){try{let evaluatorStudentIds=[];if(assignment.evaluatorType==='everyone'){// All students in the course evaluate this group\nevaluatorStudentIds=students.map(s=>s.studentid);console.log(\"[ASSIGNMENT] Everyone mode for \".concat(assignment.groupName,\": \").concat(evaluatorStudentIds.length,\" students\"));}else{// Use selected students, or students IN THE GROUP if none selected\nif(assignment.evaluatorIds&&assignment.evaluatorIds.length>0){evaluatorStudentIds=assignment.evaluatorIds;console.log(\"[ASSIGNMENT] Using \".concat(evaluatorStudentIds.length,\" selected students for \").concat(assignment.groupName));}else{// Fetch students in this specific group\nconsole.log(\"[ASSIGNMENT] No students selected, fetching students in group \".concat(assignment.groupName,\"...\"));try{const groupStudentsResponse=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/groups/\").concat(assignment.groupId,\"/students\"));if(!groupStudentsResponse.ok){throw new Error(\"Failed to fetch group students: \".concat(groupStudentsResponse.status));}const groupStudentsData=await groupStudentsResponse.json();evaluatorStudentIds=(groupStudentsData.students||[]).map(s=>s.studentid);console.log(\"[ASSIGNMENT] Found \".concat(evaluatorStudentIds.length,\" students in group \").concat(assignment.groupName));}catch(err){console.error(\"[ASSIGNMENT] Error fetching group students:\",err);errors.push(\"\".concat(assignment.groupName,\": Could not fetch students in group - \").concat(err.message));continue;}}}if(!evaluatorStudentIds||evaluatorStudentIds.length===0){const errorMsg=\"No evaluators for \".concat(assignment.groupName,\". Students array has \").concat(students.length,\" students.\");console.error(\"[ASSIGNMENT] \".concat(errorMsg));errors.push(errorMsg);continue;}console.log(\"[ASSIGNMENT] Creating assignment for \".concat(assignment.groupName,\" with \").concat(evaluatorStudentIds.length,\" evaluator(s):\"),evaluatorStudentIds);// Combine date and time for due date\nlet dueDateTime=null;if(assignment.dueDate){try{const dateStr=assignment.dueDate.includes('T')?assignment.dueDate:\"\".concat(assignment.dueDate,\"T\").concat(assignment.dueDate.split('T')[1]||'23:59');const date=new Date(dateStr);if(!isNaN(date.getTime())){dueDateTime=date.toISOString();}else{throw new Error(\"Invalid due date: \".concat(assignment.dueDate));}}catch(err){errors.push(\"\".concat(assignment.groupName,\": Invalid due date format\"));continue;}}else{errors.push(\"\".concat(assignment.groupName,\": Due date is required\"));continue;}// Format availableFrom and until dates\nlet availableFromISO=null;if(assignment.availableFrom){try{const dateStr=assignment.availableFrom.includes('T')?assignment.availableFrom:\"\".concat(assignment.availableFrom,\"T\").concat(assignment.availableFrom.split('T')[1]||'00:00');const date=new Date(dateStr);if(!isNaN(date.getTime())){availableFromISO=date.toISOString();}}catch(err){console.warn(\"Invalid availableFrom date for \".concat(assignment.groupName,\":\"),err);}}let untilISO=null;if(assignment.until){try{const dateStr=assignment.until.includes('T')?assignment.until:\"\".concat(assignment.until,\"T\").concat(assignment.until.split('T')[1]||'23:59');const date=new Date(dateStr);if(!isNaN(date.getTime())){untilISO=date.toISOString();}}catch(err){console.warn(\"Invalid until date for \".concat(assignment.groupName,\":\"),err);}}const requestBody={courseId:parseInt(courseId),groupId:assignment.groupId,evaluatorStudentIds:evaluatorStudentIds,dueDate:dueDateTime,assignmentName:assignment.description||\"Peer Evaluation - \".concat(assignment.groupName),points:assignment.points||0,availableFrom:availableFromISO,until:untilISO};console.log(\"Creating assignment for \".concat(assignment.groupName,\":\"),requestBody);const response=await fetch(\"\".concat(API_URL,\"/api/evaluation-assignments\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});// Check if response is JSON\nconst contentType=response.headers.get('content-type');let data;if(contentType&&contentType.includes('application/json')){data=await response.json();}else{// Server returned HTML (likely an error page)\nconst text=await response.text();console.error(\"Non-JSON response for \".concat(assignment.groupName,\":\"),text.substring(0,200));errors.push(\"\".concat(assignment.groupName,\": Server error (\").concat(response.status,\"). Check backend logs.\"));continue;}if(response.ok){var _data$assignments;totalCreated+=((_data$assignments=data.assignments)===null||_data$assignments===void 0?void 0:_data$assignments.length)||0;if(data.errors&&data.errors.length>0){console.warn(\"Some errors for \".concat(assignment.groupName,\":\"),data.errors);errors.push(\"\".concat(assignment.groupName,\": \").concat(data.errors.join('; ')));}}else{const errorMsg=data.message||'Failed';const errorDetails=data.errors?\" (\".concat(data.errors.join('; '),\")\"):'';errors.push(\"\".concat(assignment.groupName,\": \").concat(errorMsg).concat(errorDetails));console.error(\"Failed to create assignment for \".concat(assignment.groupName,\":\"),data);}}catch(err){console.error(\"Error creating assignment for \".concat(assignment.groupName,\":\"),err);errors.push(\"\".concat(assignment.groupName,\": \").concat(err.message));}}if(totalCreated>0){setSuccess(\"Successfully created \".concat(totalCreated,\" evaluation assignment(s)\"));setPendingAssignments([]);fetchAssignments();}else{setError(\"Failed to create assignments: \".concat(errors.join('; ')));}}catch(err){console.error('Error saving assignments:',err);setError('Failed to save assignments. Please try again.');}finally{setIsSubmitting(false);}};const handleDeleteAssignment=async assignmentId=>{if(!window.confirm('Are you sure you want to delete this assignment?')){return;}try{const response=await fetch(\"\".concat(API_URL,\"/api/evaluation-assignments/\").concat(assignmentId),{method:'DELETE'});if(response.ok){setSuccess('Assignment deleted successfully');fetchAssignments();}else{const data=await response.json();setError(data.message||'Failed to delete assignment');}}catch(err){console.error('Error deleting assignment:',err);setError('Failed to delete assignment. Please try again.');}};const removePendingAssignment=index=>{setPendingAssignments(prev=>prev.filter((_,i)=>i!==index));};const formatDateTime=(dateString,timeString)=>{if(!dateString)return'';try{const date=new Date(\"\".concat(dateString,\"T\").concat(timeString||'00:00'));if(isNaN(date.getTime())){return dateString;// Return original if invalid\n}return date.toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});}catch(e){return dateString;}};const formatDate=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);return date.toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const getStatusColor=status=>{switch(status){case'completed':return COLORS.SUCCESS_GREEN;case'overdue':return COLORS.ERROR_RED;default:return COLORS.TEXT_SECONDARY;}};// Helper to format time for input (HH:MM)\nconst formatTimeForInput=timeString=>{if(!timeString)return'';// Convert \"23:59 PM\" format to \"23:59\" if needed\nreturn timeString;};// Helper to get current date/time in local format for inputs\nconst getLocalDateTime=dateString=>{if(!dateString)return'';const date=new Date(dateString);const year=date.getFullYear();const month=String(date.getMonth()+1).padStart(2,'0');const day=String(date.getDate()).padStart(2,'0');return\"\".concat(year,\"-\").concat(month,\"-\").concat(day);};const containerStyle={fontFamily:'Georgia, serif',backgroundColor:COLORS.BODY_BACKGROUND,minHeight:'100vh'};const headerBannerStyle={backgroundImage:\"linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(\\\"https://www.kenan-flagler.unc.edu/wp-content/uploads/nmc-images/2019/10/singapore_skyline-width2000height772.jpg\\\")\",backgroundSize:'cover',backgroundPosition:'center',backgroundRepeat:'no-repeat',padding:'50px 0 30px 0',position:'relative'};const titleStyle={fontSize:'48px',fontWeight:'normal',color:COLORS.WHITE,textAlign:'center',margin:0,fontFamily:'Georgia, serif'};const cardStyle={backgroundColor:COLORS.WHITE,borderRadius:'8px',padding:'40px',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)',maxWidth:'900px',margin:'40px auto'};const formTitleStyle={fontSize:'36px',fontWeight:'normal',color:COLORS.BROWN_TAN,marginBottom:'30px',fontFamily:'Georgia, serif'};const labelStyle={display:'block',marginBottom:'8px',fontSize:'16px',fontWeight:'600',color:COLORS.TEXT_PRIMARY};const textareaStyle={width:'100%',padding:'15px',borderRadius:'4px',border:\"1px solid \".concat(COLORS.TAN_BASE),fontSize:'16px',fontFamily:'Georgia, serif',minHeight:'120px',resize:'vertical',marginBottom:'20px'};const inputStyle={width:'100%',padding:'10px',borderRadius:'4px',border:\"1px solid \".concat(COLORS.TAN_BASE),fontSize:'16px',fontFamily:'Georgia, serif',marginBottom:'10px'};const smallInputStyle=_objectSpread(_objectSpread({},inputStyle),{},{width:'150px'});const assignToContainerStyle={border:\"2px solid \".concat(COLORS.TAN_BASE),borderRadius:'8px',padding:'20px',marginBottom:'20px',backgroundColor:'#fafafa'};const tagStyle={display:'inline-flex',alignItems:'center',backgroundColor:'#e0e0e0',padding:'6px 12px',borderRadius:'20px',margin:'4px',fontSize:'14px'};const tagRemoveStyle={marginLeft:'8px',cursor:'pointer',fontWeight:'bold',color:COLORS.TEXT_SECONDARY};const dropdownStyle={position:'relative',width:'100%'};const dropdownMenuStyle={position:'absolute',top:'100%',left:0,right:0,backgroundColor:COLORS.WHITE,border:\"1px solid \".concat(COLORS.TAN_BASE),borderRadius:'4px',maxHeight:'200px',overflowY:'auto',zIndex:1000,boxShadow:'0 4px 6px rgba(0,0,0,0.1)'};const dropdownItemStyle={padding:'10px 15px',cursor:'pointer',borderBottom:\"1px solid \".concat(COLORS.TAN_BASE)};const dropdownItemHoverStyle=_objectSpread(_objectSpread({},dropdownItemStyle),{},{backgroundColor:'#f0f0f0'});const dateTimeRowStyle={display:'flex',gap:'15px',alignItems:'flex-end',marginBottom:'15px'};const dateTimeGroupStyle={flex:1};const clearLinkStyle={color:COLORS.NAVY_BASE,cursor:'pointer',fontSize:'14px',textDecoration:'underline',marginLeft:'10px'};const assignToButtonStyle={backgroundColor:COLORS.BROWN_TAN,color:COLORS.WHITE,padding:'15px 30px',borderRadius:'8px',fontSize:'18px',fontWeight:'600',border:'none',cursor:'pointer',fontFamily:'Georgia, serif',width:'100%',marginTop:'20px',display:'flex',alignItems:'center',justifyContent:'center',gap:'10px'};const footerButtonStyle={display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:'40px',paddingTop:'20px',borderTop:\"1px solid \".concat(COLORS.TAN_BASE)};const returnLinkStyle={color:COLORS.NAVY_BASE,textDecoration:'none',fontSize:'16px',display:'flex',alignItems:'center',gap:'8px',cursor:'pointer'};const actionButtonsStyle={display:'flex',gap:'15px'};const cancelButtonStyle={backgroundColor:COLORS.BROWN_TAN,color:COLORS.WHITE,padding:'12px 24px',borderRadius:'4px',fontSize:'16px',fontWeight:'600',border:'none',cursor:'pointer',fontFamily:'Georgia, serif'};const saveButtonStyle=_objectSpread(_objectSpread({},cancelButtonStyle),{},{backgroundColor:COLORS.TAN_SELECTED});if(isLoading){return/*#__PURE__*/_jsx(\"div\",{style:containerStyle,children:/*#__PURE__*/_jsx(\"div\",{style:cardStyle,children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px'},children:\"Loading...\"})})});}return/*#__PURE__*/_jsxs(\"div\",{style:containerStyle,children:[/*#__PURE__*/_jsx(\"div\",{style:headerBannerStyle,children:/*#__PURE__*/_jsx(\"h1\",{style:titleStyle,children:(course===null||course===void 0?void 0:course.course_name)||'Project Management'})}),/*#__PURE__*/_jsxs(\"div\",{style:cardStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:formTitleStyle,children:\"Assign Evaluations\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#fee',color:COLORS.ERROR_RED,padding:'15px',borderRadius:'8px',marginBottom:'20px'},children:error}),success&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#efe',color:COLORS.SUCCESS_GREEN,padding:'15px',borderRadius:'8px',marginBottom:'20px'},children:success}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:labelStyle,children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Add Description Here\",style:textareaStyle})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:labelStyle,children:\"Points\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:points,onChange:e=>setPoints(e.target.value),style:smallInputStyle,min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:assignToContainerStyle,children:[/*#__PURE__*/_jsx(\"label\",{style:labelStyle,children:\"Assign To\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px',minHeight:'40px'},children:[assignToType==='everyone'&&/*#__PURE__*/_jsxs(\"div\",{style:tagStyle,children:[\"Everyone\",/*#__PURE__*/_jsx(\"span\",{style:tagRemoveStyle,onClick:handleEveryoneToggle,children:\"\\xD7\"})]}),selectedGroups.map(group=>/*#__PURE__*/_jsxs(\"div\",{style:tagStyle,children:[group.group_name,/*#__PURE__*/_jsx(\"span\",{style:tagRemoveStyle,onClick:()=>removeGroup(group.groupid),children:\"\\xD7\"})]},group.groupid)),selectedStudents.map(student=>/*#__PURE__*/_jsxs(\"div\",{style:tagStyle,children:[student.studentname,/*#__PURE__*/_jsx(\"span\",{style:tagRemoveStyle,onClick:()=>removeStudent(student.studentid),children:\"\\xD7\"})]},student.studentid))]}),/*#__PURE__*/_jsxs(\"div\",{style:dropdownStyle,\"data-dropdown\":true,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setAssignToType('everyone');setSelectedGroups([]);setSelectedStudents([]);},style:{padding:'8px 16px',borderRadius:'4px',border:\"1px solid \".concat(COLORS.TAN_BASE),backgroundColor:assignToType==='everyone'?COLORS.TAN_BASE:COLORS.WHITE,cursor:'pointer',fontFamily:'Georgia, serif'},children:\"Everyone\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setAssignToType('groups');if(assignToType==='everyone'){setSelectedGroups([]);}},style:{padding:'8px 16px',borderRadius:'4px',border:\"1px solid \".concat(COLORS.TAN_BASE),backgroundColor:assignToType==='groups'?COLORS.TAN_BASE:COLORS.WHITE,cursor:'pointer',fontFamily:'Georgia, serif'},children:\"Groups\"})]}),assignToType==='groups'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:e=>{setSearchQuery(e.target.value);setShowGroupDropdown(true);},onFocus:()=>setShowGroupDropdown(true),placeholder:\"Start Typing To Search\",style:inputStyle}),showGroupDropdown&&filteredGroups.length>0&&/*#__PURE__*/_jsx(\"div\",{style:dropdownMenuStyle,\"data-dropdown\":true,onClick:e=>e.stopPropagation(),children:filteredGroups.map(group=>/*#__PURE__*/_jsxs(\"div\",{style:selectedGroups.find(g=>g.groupid===group.groupid)?dropdownItemHoverStyle:dropdownItemStyle,onClick:e=>{e.stopPropagation();handleGroupToggle(group);},children:[group.group_name,selectedGroups.find(g=>g.groupid===group.groupid)&&' âœ“']},group.groupid))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:assignToContainerStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:dateTimeRowStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:dateTimeGroupStyle,children:[/*#__PURE__*/_jsx(\"label\",{style:labelStyle,children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dueDate,onChange:e=>setDueDate(e.target.value),style:inputStyle})]}),/*#__PURE__*/_jsxs(\"div\",{style:dateTimeGroupStyle,children:[/*#__PURE__*/_jsx(\"label\",{style:labelStyle,children:\"Time\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:dueTime,onChange:e=>setDueTime(e.target.value),style:inputStyle}),dueTime&&/*#__PURE__*/_jsx(\"span\",{style:clearLinkStyle,onClick:()=>setDueTime(''),children:\"Clear\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:dateTimeRowStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:dateTimeGroupStyle,children:[/*#__PURE__*/_jsx(\"label\",{style:labelStyle,children:\"Available From\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:availableFromDate,onChange:e=>setAvailableFromDate(e.target.value),style:inputStyle})]}),/*#__PURE__*/_jsxs(\"div\",{style:dateTimeGroupStyle,children:[/*#__PURE__*/_jsx(\"label\",{style:labelStyle,children:\"Time\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:availableFromTime,onChange:e=>setAvailableFromTime(e.target.value),style:inputStyle}),availableFromTime&&/*#__PURE__*/_jsx(\"span\",{style:clearLinkStyle,onClick:()=>setAvailableFromTime(''),children:\"Clear\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:dateTimeRowStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:dateTimeGroupStyle,children:[/*#__PURE__*/_jsx(\"label\",{style:labelStyle,children:\"Until\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:untilDate,onChange:e=>setUntilDate(e.target.value),style:inputStyle})]}),/*#__PURE__*/_jsxs(\"div\",{style:dateTimeGroupStyle,children:[/*#__PURE__*/_jsx(\"label\",{style:labelStyle,children:\"Time\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:untilTime,onChange:e=>setUntilTime(e.target.value),style:inputStyle}),untilTime&&/*#__PURE__*/_jsx(\"span\",{style:clearLinkStyle,onClick:()=>setUntilTime(''),children:\"Clear\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleAddToPending,style:assignToButtonStyle,children:[/*#__PURE__*/_jsx(\"span\",{children:\"+\"}),\" Assign To\"]}),pendingAssignments.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px',padding:'20px',backgroundColor:'#f8f9fa',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{marginBottom:'15px',fontSize:'20px'},children:[\"Pending Assignments (\",pendingAssignments.length,\")\"]}),pendingAssignments.map((assignment,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',marginBottom:'10px',backgroundColor:COLORS.WHITE,borderRadius:'4px',border:\"1px solid \".concat(COLORS.TAN_BASE),display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600'},children:assignment.groupName}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',color:COLORS.TEXT_SECONDARY},children:[assignment.evaluatorType==='everyone'?'Everyone':assignment.evaluatorIds?\"\".concat(assignment.evaluatorIds.length,\" students\"):'All students',assignment.dueDate&&\" \\u2022 Due: \".concat(formatDateTime(assignment.dueDate.split('T')[0],assignment.dueDate.split('T')[1]||''))]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removePendingAssignment(index),style:{backgroundColor:COLORS.ERROR_RED,color:COLORS.WHITE,border:'none',borderRadius:'4px',padding:'6px 12px',cursor:'pointer'},children:\"Remove\"})]},index))]}),/*#__PURE__*/_jsxs(\"div\",{style:footerButtonStyle,children:[/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate(\"/course-roster/\".concat(courseId)),style:returnLinkStyle,children:\"\\u2190 Return\"}),/*#__PURE__*/_jsxs(\"div\",{style:actionButtonsStyle,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setPendingAssignments([]);setDescription('');setPoints('25');setAssignToType('groups');setSelectedGroups([]);setSelectedStudents([]);setDueDate('');setDueTime('');setAvailableFromDate('');setAvailableFromTime('');setUntilDate('');setUntilTime('');},style:cancelButtonStyle,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSaveAndAssign,disabled:isSubmitting||pendingAssignments.length===0,style:_objectSpread(_objectSpread({},saveButtonStyle),{},{opacity:isSubmitting||pendingAssignments.length===0?0.6:1,cursor:isSubmitting||pendingAssignments.length===0?'not-allowed':'pointer'}),children:isSubmitting?'Saving...':'Save and Assign'})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","useAuth","API_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","COLORS","TAN_BACKGROUND","WHITE","NAVY_BUTTON","PLACEHOLDER_TEXT","TEXT_PRIMARY","TEXT_SECONDARY","ERROR_RED","SUCCESS_GREEN","BODY_BACKGROUND","HEADER_TEXT","HEADER_BAR_BG","TAN_BASE","TAN_SELECTED","NAVY_BASE","NAVY_SELECTED","BROWN_TAN","EvaluationAssignment","courseId","navigate","user","course","setCourse","groups","setGroups","students","setStudents","assignments","setAssignments","description","setDescription","points","setPoints","assignToType","setAssignToType","selectedGroups","setSelectedGroups","selectedStudents","setSelectedStudents","dueDate","setDueDate","dueTime","setDueTime","availableFromDate","setAvailableFromDate","availableFromTime","setAvailableFromTime","untilDate","setUntilDate","untilTime","setUntilTime","searchQuery","setSearchQuery","showGroupDropdown","setShowGroupDropdown","showStudentDropdown","setShowStudentDropdown","pendingAssignments","setPendingAssignments","isLoading","setIsLoading","isSubmitting","setIsSubmitting","error","setError","success","setSuccess","fetchCourseInfo","response","fetch","concat","data","json","ok","err","console","fetchGroups","fetchStudents","roster","fetchAssignments","loadData","Promise","all","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","handleEveryoneToggle","handleGroupToggle","group","prev","isSelected","find","g","groupid","newGroups","filter","log","group_name","map","handleStudentToggle","student","s","studentid","removeGroup","groupId","removeStudent","studentId","filteredGroups","toLowerCase","includes","filteredStudents","studentname","handleAddToPending","length","newAssignments","groupName","evaluatorType","parseInt","availableFrom","until","evaluatorIds","selectedStudentsCount","note","handleSaveAndAssign","totalCreated","errors","assignment","evaluatorStudentIds","groupStudentsResponse","Error","status","groupStudentsData","push","message","errorMsg","dueDateTime","dateStr","split","date","Date","isNaN","getTime","toISOString","availableFromISO","warn","untilISO","requestBody","assignmentName","method","headers","body","JSON","stringify","contentType","get","text","substring","_data$assignments","join","errorDetails","handleDeleteAssignment","assignmentId","window","confirm","removePendingAssignment","index","_","i","formatDateTime","dateString","timeString","toLocaleDateString","year","month","day","hour","minute","e","formatDate","getStatusColor","formatTimeForInput","getLocalDateTime","getFullYear","String","getMonth","padStart","getDate","containerStyle","fontFamily","backgroundColor","minHeight","headerBannerStyle","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","padding","position","titleStyle","fontSize","fontWeight","color","textAlign","margin","cardStyle","borderRadius","boxShadow","maxWidth","formTitleStyle","marginBottom","labelStyle","display","textareaStyle","width","border","resize","inputStyle","smallInputStyle","_objectSpread","assignToContainerStyle","tagStyle","alignItems","tagRemoveStyle","marginLeft","cursor","dropdownStyle","dropdownMenuStyle","top","left","right","maxHeight","overflowY","zIndex","dropdownItemStyle","borderBottom","dropdownItemHoverStyle","dateTimeRowStyle","gap","dateTimeGroupStyle","flex","clearLinkStyle","textDecoration","assignToButtonStyle","marginTop","justifyContent","footerButtonStyle","paddingTop","borderTop","returnLinkStyle","actionButtonsStyle","cancelButtonStyle","saveButtonStyle","style","children","course_name","value","onChange","placeholder","type","min","onClick","stopPropagation","onFocus","disabled","opacity"],"sources":["/Users/ryandanziger/Desktop/smu-web-application/peer-eval-system/frontend-clean/src/components/EvaluationAssignment.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport API_URL from '../config';\n\nconst COLORS = {\n  TAN_BACKGROUND: 'rgba(138,112,76,0.9)',\n  WHITE: 'white',\n  NAVY_BUTTON: '#141b4d',\n  PLACEHOLDER_TEXT: '#8a704c',\n  TEXT_PRIMARY: '#2d3748',\n  TEXT_SECONDARY: '#5C7094',\n  ERROR_RED: '#C97C7C',\n  SUCCESS_GREEN: '#4CAF50',\n  BODY_BACKGROUND: 'white',\n  HEADER_TEXT: '#2d3748',\n  HEADER_BAR_BG: '#e8e8e8',\n  TAN_BASE: '#C4B5A0',\n  TAN_SELECTED: '#8B7355',\n  NAVY_BASE: '#5C7094',\n  NAVY_SELECTED: '#4A5568',\n  BROWN_TAN: '#8a704c',\n};\n\nexport default function EvaluationAssignment() {\n  const { courseId } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [course, setCourse] = useState(null);\n  const [groups, setGroups] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [assignments, setAssignments] = useState([]);\n  \n  // Form state matching Figma design\n  const [description, setDescription] = useState('');\n  const [points, setPoints] = useState('25');\n  const [assignToType, setAssignToType] = useState('groups'); // 'everyone' or 'groups'\n  const [selectedGroups, setSelectedGroups] = useState([]);\n  const [selectedStudents, setSelectedStudents] = useState([]);\n  const [dueDate, setDueDate] = useState('');\n  const [dueTime, setDueTime] = useState('');\n  const [availableFromDate, setAvailableFromDate] = useState('');\n  const [availableFromTime, setAvailableFromTime] = useState('');\n  const [untilDate, setUntilDate] = useState('');\n  const [untilTime, setUntilTime] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showGroupDropdown, setShowGroupDropdown] = useState(false);\n  const [showStudentDropdown, setShowStudentDropdown] = useState(false);\n  const [pendingAssignments, setPendingAssignments] = useState([]);\n  \n  const [isLoading, setIsLoading] = useState(true);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const fetchCourseInfo = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/courses/${courseId}`);\n      const data = await response.json();\n      if (response.ok) {\n        setCourse(data.course);\n      }\n    } catch (err) {\n      console.error('Error fetching course:', err);\n    }\n  }, [courseId]);\n\n  const fetchGroups = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/courses/${courseId}/groups`);\n      const data = await response.json();\n      if (response.ok) {\n        setGroups(data.groups || []);\n      }\n    } catch (err) {\n      console.error('Error fetching groups:', err);\n    }\n  }, [courseId]);\n\n  const fetchStudents = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/courses/${courseId}/roster`);\n      const data = await response.json();\n      if (response.ok) {\n        setStudents(data.roster || []);\n      }\n    } catch (err) {\n      console.error('Error fetching students:', err);\n    }\n  }, [courseId]);\n\n  const fetchAssignments = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/courses/${courseId}/evaluation-assignments`);\n      const data = await response.json();\n      if (response.ok) {\n        setAssignments(data.assignments || []);\n      }\n    } catch (err) {\n      console.error('Error fetching assignments:', err);\n    }\n  }, [courseId]);\n\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      await Promise.all([\n        fetchCourseInfo(),\n        fetchGroups(),\n        fetchStudents(),\n        fetchAssignments()\n      ]);\n      setIsLoading(false);\n    };\n    loadData();\n  }, [courseId, fetchCourseInfo, fetchGroups, fetchStudents, fetchAssignments]);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showGroupDropdown && !event.target.closest('[data-dropdown]')) {\n        setShowGroupDropdown(false);\n      }\n      if (showStudentDropdown && !event.target.closest('[data-dropdown]')) {\n        setShowStudentDropdown(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showGroupDropdown, showStudentDropdown]);\n\n  // Handle \"Everyone\" selection\n  const handleEveryoneToggle = () => {\n    if (assignToType === 'everyone') {\n      setAssignToType('groups');\n      setSelectedGroups([]);\n    } else {\n      setAssignToType('everyone');\n      setSelectedGroups([]);\n      setSelectedStudents([]);\n    }\n  };\n\n  // Handle group selection\n  const handleGroupToggle = (group) => {\n    setSelectedGroups(prev => {\n      const isSelected = prev.find(g => g.groupid === group.groupid);\n      const newGroups = isSelected \n        ? prev.filter(g => g.groupid !== group.groupid)\n        : [...prev, group];\n      console.log('Group toggled:', group.group_name, 'Selected groups:', newGroups.map(g => g.group_name));\n      return newGroups;\n    });\n    setShowGroupDropdown(false);\n  };\n\n  // Handle student selection\n  const handleStudentToggle = (student) => {\n    if (selectedStudents.find(s => s.studentid === student.studentid)) {\n      setSelectedStudents(prev => prev.filter(s => s.studentid !== student.studentid));\n    } else {\n      setSelectedStudents(prev => [...prev, student]);\n    }\n    setShowStudentDropdown(false);\n  };\n\n  // Remove selected group\n  const removeGroup = (groupId) => {\n    setSelectedGroups(prev => prev.filter(g => g.groupid !== groupId));\n  };\n\n  // Remove selected student\n  const removeStudent = (studentId) => {\n    setSelectedStudents(prev => prev.filter(s => s.studentid !== studentId));\n  };\n\n  // Filter groups/students based on search\n  const filteredGroups = groups.filter(g => \n    g.group_name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n  const filteredStudents = students.filter(s => \n    s.studentname.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  // Handle \"Assign To\" button - adds to pending assignments\n  const handleAddToPending = () => {\n    if (!dueDate) {\n      setError('Please select a due date');\n      return;\n    }\n\n    console.log('Add to pending - assignToType:', assignToType, 'selectedGroups:', selectedGroups.length);\n\n    if (assignToType === 'everyone') {\n      // Add assignment for all students in all groups\n      if (groups.length === 0) {\n        setError('No groups available. Please create groups first.');\n        return;\n      }\n      const newAssignments = groups.map(group => ({\n        groupId: group.groupid,\n        groupName: group.group_name,\n        evaluatorType: 'everyone',\n        description,\n        points: parseInt(points) || 0,\n        dueDate: dueDate ? `${dueDate}T${dueTime || '23:59'}` : null,\n        availableFrom: availableFromDate ? `${availableFromDate}T${availableFromTime || '00:00'}` : null,\n        until: untilDate ? `${untilDate}T${untilTime || '23:59'}` : null,\n      }));\n      setPendingAssignments(prev => [...prev, ...newAssignments]);\n      setSuccess(`Added ${newAssignments.length} assignment(s) for all students`);\n    } else if (selectedGroups.length > 0) {\n      // Add assignments for selected groups\n      // If no students selected, we'll fetch students in each group when saving\n      const evaluatorIds = selectedStudents.length > 0 \n        ? selectedStudents.map(s => s.studentid)\n        : null; // null means use students IN THE GROUP (not all course students)\n      \n      console.log('Creating assignments for groups:', {\n        selectedGroups: selectedGroups.map(g => g.group_name),\n        evaluatorIds,\n        selectedStudentsCount: selectedStudents.length,\n        note: evaluatorIds ? 'Using selected students' : 'Will use students in each group'\n      });\n      \n      const newAssignments = selectedGroups.map(group => ({\n        groupId: group.groupid,\n        groupName: group.group_name,\n        evaluatorType: 'group',\n        evaluatorIds: evaluatorIds, // null means use group members\n        description,\n        points: parseInt(points) || 0,\n        dueDate: dueDate ? `${dueDate}T${dueTime || '23:59'}` : null,\n        availableFrom: availableFromDate ? `${availableFromDate}T${availableFromTime || '00:00'}` : null,\n        until: untilDate ? `${untilDate}T${untilTime || '23:59'}` : null,\n      }));\n      setPendingAssignments(prev => [...prev, ...newAssignments]);\n      setSuccess(`Added ${newAssignments.length} assignment(s)`);\n    } else {\n      setError('Please select at least one group or choose \"Everyone\"');\n      return;\n    }\n\n    // Clear form\n    setDescription('');\n    setPoints('25');\n    setAssignToType('groups');\n    setSelectedGroups([]);\n    setSelectedStudents([]);\n    setDueDate('');\n    setDueTime('');\n    setAvailableFromDate('');\n    setAvailableFromTime('');\n    setUntilDate('');\n    setUntilTime('');\n    setSearchQuery('');\n    setSuccess('Assignment added to pending list');\n  };\n\n  // Handle final \"Save and Assign\" - creates all pending assignments\n  const handleSaveAndAssign = async () => {\n    if (pendingAssignments.length === 0) {\n      setError('No assignments to save. Please add assignments first.');\n      return;\n    }\n\n    setIsSubmitting(true);\n    setError('');\n    setSuccess('');\n\n    try {\n      let totalCreated = 0;\n      const errors = [];\n\n      for (const assignment of pendingAssignments) {\n        try {\n          let evaluatorStudentIds = [];\n          \n          if (assignment.evaluatorType === 'everyone') {\n            // All students in the course evaluate this group\n            evaluatorStudentIds = students.map(s => s.studentid);\n            console.log(`[ASSIGNMENT] Everyone mode for ${assignment.groupName}: ${evaluatorStudentIds.length} students`);\n          } else {\n            // Use selected students, or students IN THE GROUP if none selected\n            if (assignment.evaluatorIds && assignment.evaluatorIds.length > 0) {\n              evaluatorStudentIds = assignment.evaluatorIds;\n              console.log(`[ASSIGNMENT] Using ${evaluatorStudentIds.length} selected students for ${assignment.groupName}`);\n            } else {\n              // Fetch students in this specific group\n              console.log(`[ASSIGNMENT] No students selected, fetching students in group ${assignment.groupName}...`);\n              try {\n                const groupStudentsResponse = await fetch(\n                  `${API_URL}/api/courses/${courseId}/groups/${assignment.groupId}/students`\n                );\n                \n                if (!groupStudentsResponse.ok) {\n                  throw new Error(`Failed to fetch group students: ${groupStudentsResponse.status}`);\n                }\n                \n                const groupStudentsData = await groupStudentsResponse.json();\n                evaluatorStudentIds = (groupStudentsData.students || []).map(s => s.studentid);\n                console.log(`[ASSIGNMENT] Found ${evaluatorStudentIds.length} students in group ${assignment.groupName}`);\n              } catch (err) {\n                console.error(`[ASSIGNMENT] Error fetching group students:`, err);\n                errors.push(`${assignment.groupName}: Could not fetch students in group - ${err.message}`);\n                continue;\n              }\n            }\n          }\n\n          if (!evaluatorStudentIds || evaluatorStudentIds.length === 0) {\n            const errorMsg = `No evaluators for ${assignment.groupName}. Students array has ${students.length} students.`;\n            console.error(`[ASSIGNMENT] ${errorMsg}`);\n            errors.push(errorMsg);\n            continue;\n          }\n\n          console.log(`[ASSIGNMENT] Creating assignment for ${assignment.groupName} with ${evaluatorStudentIds.length} evaluator(s):`, evaluatorStudentIds);\n\n          // Combine date and time for due date\n          let dueDateTime = null;\n          if (assignment.dueDate) {\n            try {\n              const dateStr = assignment.dueDate.includes('T') \n                ? assignment.dueDate \n                : `${assignment.dueDate}T${assignment.dueDate.split('T')[1] || '23:59'}`;\n              const date = new Date(dateStr);\n              if (!isNaN(date.getTime())) {\n                dueDateTime = date.toISOString();\n              } else {\n                throw new Error(`Invalid due date: ${assignment.dueDate}`);\n              }\n            } catch (err) {\n              errors.push(`${assignment.groupName}: Invalid due date format`);\n              continue;\n            }\n          } else {\n            errors.push(`${assignment.groupName}: Due date is required`);\n            continue;\n          }\n\n          // Format availableFrom and until dates\n          let availableFromISO = null;\n          if (assignment.availableFrom) {\n            try {\n              const dateStr = assignment.availableFrom.includes('T') \n                ? assignment.availableFrom \n                : `${assignment.availableFrom}T${assignment.availableFrom.split('T')[1] || '00:00'}`;\n              const date = new Date(dateStr);\n              if (!isNaN(date.getTime())) {\n                availableFromISO = date.toISOString();\n              }\n            } catch (err) {\n              console.warn(`Invalid availableFrom date for ${assignment.groupName}:`, err);\n            }\n          }\n\n          let untilISO = null;\n          if (assignment.until) {\n            try {\n              const dateStr = assignment.until.includes('T') \n                ? assignment.until \n                : `${assignment.until}T${assignment.until.split('T')[1] || '23:59'}`;\n              const date = new Date(dateStr);\n              if (!isNaN(date.getTime())) {\n                untilISO = date.toISOString();\n              }\n            } catch (err) {\n              console.warn(`Invalid until date for ${assignment.groupName}:`, err);\n            }\n          }\n\n          const requestBody = {\n            courseId: parseInt(courseId),\n            groupId: assignment.groupId,\n            evaluatorStudentIds: evaluatorStudentIds,\n            dueDate: dueDateTime,\n            assignmentName: assignment.description || `Peer Evaluation - ${assignment.groupName}`,\n            points: assignment.points || 0,\n            availableFrom: availableFromISO,\n            until: untilISO,\n          };\n\n          console.log(`Creating assignment for ${assignment.groupName}:`, requestBody);\n\n          const response = await fetch(`${API_URL}/api/evaluation-assignments`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(requestBody),\n          });\n\n          // Check if response is JSON\n          const contentType = response.headers.get('content-type');\n          let data;\n          \n          if (contentType && contentType.includes('application/json')) {\n            data = await response.json();\n          } else {\n            // Server returned HTML (likely an error page)\n            const text = await response.text();\n            console.error(`Non-JSON response for ${assignment.groupName}:`, text.substring(0, 200));\n            errors.push(`${assignment.groupName}: Server error (${response.status}). Check backend logs.`);\n            continue;\n          }\n          \n          if (response.ok) {\n            totalCreated += data.assignments?.length || 0;\n            if (data.errors && data.errors.length > 0) {\n              console.warn(`Some errors for ${assignment.groupName}:`, data.errors);\n              errors.push(`${assignment.groupName}: ${data.errors.join('; ')}`);\n            }\n          } else {\n            const errorMsg = data.message || 'Failed';\n            const errorDetails = data.errors ? ` (${data.errors.join('; ')})` : '';\n            errors.push(`${assignment.groupName}: ${errorMsg}${errorDetails}`);\n            console.error(`Failed to create assignment for ${assignment.groupName}:`, data);\n          }\n        } catch (err) {\n          console.error(`Error creating assignment for ${assignment.groupName}:`, err);\n          errors.push(`${assignment.groupName}: ${err.message}`);\n        }\n      }\n\n      if (totalCreated > 0) {\n        setSuccess(`Successfully created ${totalCreated} evaluation assignment(s)`);\n        setPendingAssignments([]);\n        fetchAssignments();\n      } else {\n        setError(`Failed to create assignments: ${errors.join('; ')}`);\n      }\n    } catch (err) {\n      console.error('Error saving assignments:', err);\n      setError('Failed to save assignments. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDeleteAssignment = async (assignmentId) => {\n    if (!window.confirm('Are you sure you want to delete this assignment?')) {\n      return;\n    }\n    \n    try {\n      const response = await fetch(`${API_URL}/api/evaluation-assignments/${assignmentId}`, {\n        method: 'DELETE',\n      });\n      \n      if (response.ok) {\n        setSuccess('Assignment deleted successfully');\n        fetchAssignments();\n      } else {\n        const data = await response.json();\n        setError(data.message || 'Failed to delete assignment');\n      }\n    } catch (err) {\n      console.error('Error deleting assignment:', err);\n      setError('Failed to delete assignment. Please try again.');\n    }\n  };\n\n  const removePendingAssignment = (index) => {\n    setPendingAssignments(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const formatDateTime = (dateString, timeString) => {\n    if (!dateString) return '';\n    try {\n      const date = new Date(`${dateString}T${timeString || '00:00'}`);\n      if (isNaN(date.getTime())) {\n        return dateString; // Return original if invalid\n      }\n      return date.toLocaleDateString('en-US', { \n        year: 'numeric', \n        month: 'short', \n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (e) {\n      return dateString;\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { \n      year: 'numeric', \n      month: 'short', \n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'completed':\n        return COLORS.SUCCESS_GREEN;\n      case 'overdue':\n        return COLORS.ERROR_RED;\n      default:\n        return COLORS.TEXT_SECONDARY;\n    }\n  };\n\n  // Helper to format time for input (HH:MM)\n  const formatTimeForInput = (timeString) => {\n    if (!timeString) return '';\n    // Convert \"23:59 PM\" format to \"23:59\" if needed\n    return timeString;\n  };\n\n  // Helper to get current date/time in local format for inputs\n  const getLocalDateTime = (dateString) => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n\n  const containerStyle = {\n    fontFamily: 'Georgia, serif',\n    backgroundColor: COLORS.BODY_BACKGROUND,\n    minHeight: '100vh',\n  };\n\n  const headerBannerStyle = {\n    backgroundImage: `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(\"https://www.kenan-flagler.unc.edu/wp-content/uploads/nmc-images/2019/10/singapore_skyline-width2000height772.jpg\")`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    padding: '50px 0 30px 0',\n    position: 'relative',\n  };\n\n  const titleStyle = {\n    fontSize: '48px',\n    fontWeight: 'normal',\n    color: COLORS.WHITE,\n    textAlign: 'center',\n    margin: 0,\n    fontFamily: 'Georgia, serif',\n  };\n\n  const cardStyle = {\n    backgroundColor: COLORS.WHITE,\n    borderRadius: '8px',\n    padding: '40px',\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n    maxWidth: '900px',\n    margin: '40px auto',\n  };\n\n  const formTitleStyle = {\n    fontSize: '36px',\n    fontWeight: 'normal',\n    color: COLORS.BROWN_TAN,\n    marginBottom: '30px',\n    fontFamily: 'Georgia, serif',\n  };\n\n  const labelStyle = {\n    display: 'block',\n    marginBottom: '8px',\n    fontSize: '16px',\n    fontWeight: '600',\n    color: COLORS.TEXT_PRIMARY,\n  };\n\n  const textareaStyle = {\n    width: '100%',\n    padding: '15px',\n    borderRadius: '4px',\n    border: `1px solid ${COLORS.TAN_BASE}`,\n    fontSize: '16px',\n    fontFamily: 'Georgia, serif',\n    minHeight: '120px',\n    resize: 'vertical',\n    marginBottom: '20px',\n  };\n\n  const inputStyle = {\n    width: '100%',\n    padding: '10px',\n    borderRadius: '4px',\n    border: `1px solid ${COLORS.TAN_BASE}`,\n    fontSize: '16px',\n    fontFamily: 'Georgia, serif',\n    marginBottom: '10px',\n  };\n\n  const smallInputStyle = {\n    ...inputStyle,\n    width: '150px',\n  };\n\n  const assignToContainerStyle = {\n    border: `2px solid ${COLORS.TAN_BASE}`,\n    borderRadius: '8px',\n    padding: '20px',\n    marginBottom: '20px',\n    backgroundColor: '#fafafa',\n  };\n\n  const tagStyle = {\n    display: 'inline-flex',\n    alignItems: 'center',\n    backgroundColor: '#e0e0e0',\n    padding: '6px 12px',\n    borderRadius: '20px',\n    margin: '4px',\n    fontSize: '14px',\n  };\n\n  const tagRemoveStyle = {\n    marginLeft: '8px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n    color: COLORS.TEXT_SECONDARY,\n  };\n\n  const dropdownStyle = {\n    position: 'relative',\n    width: '100%',\n  };\n\n  const dropdownMenuStyle = {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: COLORS.WHITE,\n    border: `1px solid ${COLORS.TAN_BASE}`,\n    borderRadius: '4px',\n    maxHeight: '200px',\n    overflowY: 'auto',\n    zIndex: 1000,\n    boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n  };\n\n  const dropdownItemStyle = {\n    padding: '10px 15px',\n    cursor: 'pointer',\n    borderBottom: `1px solid ${COLORS.TAN_BASE}`,\n  };\n\n  const dropdownItemHoverStyle = {\n    ...dropdownItemStyle,\n    backgroundColor: '#f0f0f0',\n  };\n\n  const dateTimeRowStyle = {\n    display: 'flex',\n    gap: '15px',\n    alignItems: 'flex-end',\n    marginBottom: '15px',\n  };\n\n  const dateTimeGroupStyle = {\n    flex: 1,\n  };\n\n  const clearLinkStyle = {\n    color: COLORS.NAVY_BASE,\n    cursor: 'pointer',\n    fontSize: '14px',\n    textDecoration: 'underline',\n    marginLeft: '10px',\n  };\n\n  const assignToButtonStyle = {\n    backgroundColor: COLORS.BROWN_TAN,\n    color: COLORS.WHITE,\n    padding: '15px 30px',\n    borderRadius: '8px',\n    fontSize: '18px',\n    fontWeight: '600',\n    border: 'none',\n    cursor: 'pointer',\n    fontFamily: 'Georgia, serif',\n    width: '100%',\n    marginTop: '20px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: '10px',\n  };\n\n  const footerButtonStyle = {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: '40px',\n    paddingTop: '20px',\n    borderTop: `1px solid ${COLORS.TAN_BASE}`,\n  };\n\n  const returnLinkStyle = {\n    color: COLORS.NAVY_BASE,\n    textDecoration: 'none',\n    fontSize: '16px',\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    cursor: 'pointer',\n  };\n\n  const actionButtonsStyle = {\n    display: 'flex',\n    gap: '15px',\n  };\n\n  const cancelButtonStyle = {\n    backgroundColor: COLORS.BROWN_TAN,\n    color: COLORS.WHITE,\n    padding: '12px 24px',\n    borderRadius: '4px',\n    fontSize: '16px',\n    fontWeight: '600',\n    border: 'none',\n    cursor: 'pointer',\n    fontFamily: 'Georgia, serif',\n  };\n\n  const saveButtonStyle = {\n    ...cancelButtonStyle,\n    backgroundColor: COLORS.TAN_SELECTED,\n  };\n\n  if (isLoading) {\n    return (\n      <div style={containerStyle}>\n        <div style={cardStyle}>\n          <div style={{ textAlign: 'center', padding: '40px' }}>\n            Loading...\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={containerStyle}>\n      {/* Header Banner */}\n      <div style={headerBannerStyle}>\n        <h1 style={titleStyle}>{course?.course_name || 'Project Management'}</h1>\n      </div>\n\n      <div style={cardStyle}>\n        <h2 style={formTitleStyle}>Assign Evaluations</h2>\n\n        {error && (\n          <div style={{ backgroundColor: '#fee', color: COLORS.ERROR_RED, padding: '15px', borderRadius: '8px', marginBottom: '20px' }}>\n            {error}\n          </div>\n        )}\n\n        {success && (\n          <div style={{ backgroundColor: '#efe', color: COLORS.SUCCESS_GREEN, padding: '15px', borderRadius: '8px', marginBottom: '20px' }}>\n            {success}\n          </div>\n        )}\n\n        {/* Description Field */}\n        <div>\n          <label style={labelStyle}>Description</label>\n          <textarea\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            placeholder=\"Add Description Here\"\n            style={textareaStyle}\n          />\n        </div>\n\n        {/* Points Field */}\n        <div>\n          <label style={labelStyle}>Points</label>\n          <input\n            type=\"number\"\n            value={points}\n            onChange={(e) => setPoints(e.target.value)}\n            style={smallInputStyle}\n            min=\"0\"\n          />\n        </div>\n\n        {/* Assign To Section */}\n        <div style={assignToContainerStyle}>\n          <label style={labelStyle}>Assign To</label>\n          \n          {/* Selected items as tags */}\n          <div style={{ marginBottom: '10px', minHeight: '40px' }}>\n            {assignToType === 'everyone' && (\n              <div style={tagStyle}>\n                Everyone\n                <span style={tagRemoveStyle} onClick={handleEveryoneToggle}>Ã—</span>\n              </div>\n            )}\n            {selectedGroups.map(group => (\n              <div key={group.groupid} style={tagStyle}>\n                {group.group_name}\n                <span style={tagRemoveStyle} onClick={() => removeGroup(group.groupid)}>Ã—</span>\n              </div>\n            ))}\n            {selectedStudents.map(student => (\n              <div key={student.studentid} style={tagStyle}>\n                {student.studentname}\n                <span style={tagRemoveStyle} onClick={() => removeStudent(student.studentid)}>Ã—</span>\n              </div>\n            ))}\n          </div>\n\n          {/* Selection interface */}\n          <div style={dropdownStyle} data-dropdown onClick={(e) => e.stopPropagation()}>\n            <div style={{ display: 'flex', gap: '10px', marginBottom: '10px' }}>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setAssignToType('everyone');\n                  setSelectedGroups([]);\n                  setSelectedStudents([]);\n                }}\n                style={{\n                  padding: '8px 16px',\n                  borderRadius: '4px',\n                  border: `1px solid ${COLORS.TAN_BASE}`,\n                  backgroundColor: assignToType === 'everyone' ? COLORS.TAN_BASE : COLORS.WHITE,\n                  cursor: 'pointer',\n                  fontFamily: 'Georgia, serif',\n                }}\n              >\n                Everyone\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setAssignToType('groups');\n                  if (assignToType === 'everyone') {\n                    setSelectedGroups([]);\n                  }\n                }}\n                style={{\n                  padding: '8px 16px',\n                  borderRadius: '4px',\n                  border: `1px solid ${COLORS.TAN_BASE}`,\n                  backgroundColor: assignToType === 'groups' ? COLORS.TAN_BASE : COLORS.WHITE,\n                  cursor: 'pointer',\n                  fontFamily: 'Georgia, serif',\n                }}\n              >\n                Groups\n              </button>\n            </div>\n\n            {assignToType === 'groups' && (\n              <>\n                <input\n                  type=\"text\"\n                  value={searchQuery}\n                  onChange={(e) => {\n                    setSearchQuery(e.target.value);\n                    setShowGroupDropdown(true);\n                  }}\n                  onFocus={() => setShowGroupDropdown(true)}\n                  placeholder=\"Start Typing To Search\"\n                  style={inputStyle}\n                />\n                {showGroupDropdown && filteredGroups.length > 0 && (\n                  <div \n                    style={dropdownMenuStyle}\n                    data-dropdown\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    {filteredGroups.map(group => (\n                      <div\n                        key={group.groupid}\n                        style={selectedGroups.find(g => g.groupid === group.groupid) ? dropdownItemHoverStyle : dropdownItemStyle}\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleGroupToggle(group);\n                        }}\n                      >\n                        {group.group_name}\n                        {selectedGroups.find(g => g.groupid === group.groupid) && ' âœ“'}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n\n        {/* Date and Time Fields */}\n        <div style={assignToContainerStyle}>\n          {/* Due Date */}\n          <div style={dateTimeRowStyle}>\n            <div style={dateTimeGroupStyle}>\n              <label style={labelStyle}>Due Date</label>\n              <input\n                type=\"date\"\n                value={dueDate}\n                onChange={(e) => setDueDate(e.target.value)}\n                style={inputStyle}\n              />\n            </div>\n            <div style={dateTimeGroupStyle}>\n              <label style={labelStyle}>Time</label>\n              <div style={{ display: 'flex', alignItems: 'center' }}>\n                <input\n                  type=\"time\"\n                  value={dueTime}\n                  onChange={(e) => setDueTime(e.target.value)}\n                  style={inputStyle}\n                />\n                {dueTime && (\n                  <span style={clearLinkStyle} onClick={() => setDueTime('')}>\n                    Clear\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Available From */}\n          <div style={dateTimeRowStyle}>\n            <div style={dateTimeGroupStyle}>\n              <label style={labelStyle}>Available From</label>\n              <input\n                type=\"date\"\n                value={availableFromDate}\n                onChange={(e) => setAvailableFromDate(e.target.value)}\n                style={inputStyle}\n              />\n            </div>\n            <div style={dateTimeGroupStyle}>\n              <label style={labelStyle}>Time</label>\n              <div style={{ display: 'flex', alignItems: 'center' }}>\n                <input\n                  type=\"time\"\n                  value={availableFromTime}\n                  onChange={(e) => setAvailableFromTime(e.target.value)}\n                  style={inputStyle}\n                />\n                {availableFromTime && (\n                  <span style={clearLinkStyle} onClick={() => setAvailableFromTime('')}>\n                    Clear\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Until */}\n          <div style={dateTimeRowStyle}>\n            <div style={dateTimeGroupStyle}>\n              <label style={labelStyle}>Until</label>\n              <input\n                type=\"date\"\n                value={untilDate}\n                onChange={(e) => setUntilDate(e.target.value)}\n                style={inputStyle}\n              />\n            </div>\n            <div style={dateTimeGroupStyle}>\n              <label style={labelStyle}>Time</label>\n              <div style={{ display: 'flex', alignItems: 'center' }}>\n                <input\n                  type=\"time\"\n                  value={untilTime}\n                  onChange={(e) => setUntilTime(e.target.value)}\n                  style={inputStyle}\n                />\n                {untilTime && (\n                  <span style={clearLinkStyle} onClick={() => setUntilTime('')}>\n                    Clear\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* + Assign To Button */}\n        <button\n          type=\"button\"\n          onClick={handleAddToPending}\n          style={assignToButtonStyle}\n        >\n          <span>+</span> Assign To\n        </button>\n\n        {/* Pending Assignments List */}\n        {pendingAssignments.length > 0 && (\n          <div style={{ marginTop: '30px', padding: '20px', backgroundColor: '#f8f9fa', borderRadius: '8px' }}>\n            <h3 style={{ marginBottom: '15px', fontSize: '20px' }}>Pending Assignments ({pendingAssignments.length})</h3>\n            {pendingAssignments.map((assignment, index) => (\n              <div key={index} style={{ \n                padding: '15px', \n                marginBottom: '10px', \n                backgroundColor: COLORS.WHITE, \n                borderRadius: '4px',\n                border: `1px solid ${COLORS.TAN_BASE}`,\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              }}>\n                <div>\n                  <div style={{ fontWeight: '600' }}>{assignment.groupName}</div>\n                  <div style={{ fontSize: '14px', color: COLORS.TEXT_SECONDARY }}>\n                    {assignment.evaluatorType === 'everyone' ? 'Everyone' : (assignment.evaluatorIds ? `${assignment.evaluatorIds.length} students` : 'All students')}\n                    {assignment.dueDate && ` â€¢ Due: ${formatDateTime(assignment.dueDate.split('T')[0], assignment.dueDate.split('T')[1] || '')}`}\n                  </div>\n                </div>\n                <button\n                  onClick={() => removePendingAssignment(index)}\n                  style={{\n                    backgroundColor: COLORS.ERROR_RED,\n                    color: COLORS.WHITE,\n                    border: 'none',\n                    borderRadius: '4px',\n                    padding: '6px 12px',\n                    cursor: 'pointer',\n                  }}\n                >\n                  Remove\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Footer Buttons */}\n        <div style={footerButtonStyle}>\n          <a\n            onClick={() => navigate(`/course-roster/${courseId}`)}\n            style={returnLinkStyle}\n          >\n            â† Return\n          </a>\n          <div style={actionButtonsStyle}>\n            <button\n              type=\"button\"\n              onClick={() => {\n                setPendingAssignments([]);\n                setDescription('');\n                setPoints('25');\n                setAssignToType('groups');\n                setSelectedGroups([]);\n                setSelectedStudents([]);\n                setDueDate('');\n                setDueTime('');\n                setAvailableFromDate('');\n                setAvailableFromTime('');\n                setUntilDate('');\n                setUntilTime('');\n              }}\n              style={cancelButtonStyle}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              onClick={handleSaveAndAssign}\n              disabled={isSubmitting || pendingAssignments.length === 0}\n              style={{\n                ...saveButtonStyle,\n                opacity: (isSubmitting || pendingAssignments.length === 0) ? 0.6 : 1,\n                cursor: (isSubmitting || pendingAssignments.length === 0) ? 'not-allowed' : 'pointer'\n              }}\n            >\n              {isSubmitting ? 'Saving...' : 'Save and Assign'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}