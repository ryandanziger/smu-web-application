{"ast":null,"code":"import _objectSpread from\"/Users/ryandanziger/Desktop/smu-web-application/peer-eval-system/frontend-clean/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import API_URL from'../config';import{useNavigate,useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const COLORS={TAN_BACKGROUND:'rgba(138,112,76,0.9)',WHITE:'white',NAVY_BUTTON:'#141b4d',PLACEHOLDER_TEXT:'#8a704c',TEXT_PRIMARY:'#2d3748',TEXT_SECONDARY:'#5C7094',ERROR_RED:'#C97C7C',SUCCESS_GREEN:'#4CAF50',BODY_BACKGROUND:'white',HEADER_TEXT:'#2d3748',HEADER_BAR_BG:'#e8e8e8',TAN_BASE:'#C4B5A0',TAN_SELECTED:'#8B7355'};export default function GroupManagement(){const{courseId}=useParams();const navigate=useNavigate();const[searchTerm,setSearchTerm]=useState('');const[groups,setGroups]=useState([]);const[roster,setRoster]=useState([]);const[filteredRoster,setFilteredRoster]=useState([]);const[selectedGroup,setSelectedGroup]=useState(null);const[selectedGroupName,setSelectedGroupName]=useState('');const[selectedStudents,setSelectedStudents]=useState([]);const[groupMembers,setGroupMembers]=useState([]);const[isLoadingMembers,setIsLoadingMembers]=useState(false);const[newGroupName,setNewGroupName]=useState('');const[showAddGroup,setShowAddGroup]=useState(false);const[courseInfo,setCourseInfo]=useState(null);const[isLoading,setIsLoading]=useState(true);const[message,setMessage]=useState({type:'',text:''});const fetchCourseInfo=useCallback(async()=>{try{const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId));const data=await response.json();if(response.ok){setCourseInfo(data.course);}}catch(err){console.error('Error fetching course info:',err);}},[courseId]);const fetchGroups=useCallback(async()=>{try{const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/groups\"));const data=await response.json();if(response.ok){setGroups(data.groups||[]);}}catch(err){console.error('Error fetching groups:',err);}},[courseId]);const fetchRoster=useCallback(async()=>{try{setIsLoading(true);const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/roster\"));const data=await response.json();if(response.ok){setRoster(data.roster||[]);}}catch(err){console.error('Error fetching roster:',err);}finally{setIsLoading(false);}},[courseId]);const filterRoster=useCallback(()=>{if(!searchTerm.trim()){setFilteredRoster(roster);return;}const filtered=roster.filter(student=>student.studentname.toLowerCase().includes(searchTerm.toLowerCase()));setFilteredRoster(filtered);},[searchTerm,roster]);useEffect(()=>{fetchCourseInfo();fetchGroups();fetchRoster();},[fetchCourseInfo,fetchGroups,fetchRoster]);useEffect(()=>{filterRoster();},[filterRoster]);const handleCreateGroup=async()=>{if(!newGroupName.trim()){setMessage({type:'error',text:'Please enter a group name'});return;}try{const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/groups\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({groupName:newGroupName})});const data=await response.json();if(response.ok){setMessage({type:'success',text:'Group created successfully'});setNewGroupName('');setShowAddGroup(false);fetchGroups();}else{setMessage({type:'error',text:data.message||'Failed to create group'});}}catch(err){setMessage({type:'error',text:'Error creating group'});}};const handleToggleStudent=studentId=>{setSelectedStudents(prev=>prev.includes(studentId)?prev.filter(id=>id!==studentId):[...prev,studentId]);};const handleAddStudentsToGroup=async()=>{if(!selectedGroup){setMessage({type:'error',text:'Please select a group'});return;}if(selectedStudents.length===0){setMessage({type:'error',text:'No student selected to add to Group'});return;}try{const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/groups/\").concat(selectedGroup,\"/students\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({studentIds:selectedStudents})});const data=await response.json();if(response.ok){setMessage({type:'success',text:\"Successfully added \".concat(selectedStudents.length,\" student(s) to group\")});setSelectedStudents([]);fetchGroups();// Refresh group counts\nfetchRoster();// Refresh roster\nfetchGroupMembers(selectedGroup);// Refresh group members list\n}else{setMessage({type:'error',text:data.message||'Failed to add students to group'});}}catch(err){setMessage({type:'error',text:'Error adding students to group'});}};const getGroupStudentCount=groupId=>{const group=groups.find(g=>g.groupid===groupId);return group?parseInt(group.student_count)||0:0;};const fetchGroupMembers=useCallback(async groupId=>{if(!groupId){setGroupMembers([]);return;}try{setIsLoadingMembers(true);const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/groups/\").concat(groupId,\"/students\"));const data=await response.json();if(response.ok){setGroupMembers(data.students||[]);}else{setGroupMembers([]);}}catch(err){console.error('Error fetching group members:',err);setGroupMembers([]);}finally{setIsLoadingMembers(false);}},[courseId]);const handleSelectGroup=(groupId,groupName)=>{setSelectedGroup(groupId);setSelectedGroupName(groupName);setSelectedStudents([]);// Clear selected students when switching groups\nfetchGroupMembers(groupId);};const handleRemoveStudentFromGroup=async(studentId,studentName)=>{if(!selectedGroup)return;if(!window.confirm(\"Remove \".concat(studentName,\" from this group?\"))){return;}try{const response=await fetch(\"\".concat(API_URL,\"/api/courses/\").concat(courseId,\"/groups/\").concat(selectedGroup,\"/students/\").concat(studentId),{method:'DELETE'});const data=await response.json();if(response.ok){setMessage({type:'success',text:\"\".concat(studentName,\" removed from group\")});// Refresh group members and groups list\nfetchGroupMembers(selectedGroup);fetchGroups();}else{setMessage({type:'error',text:data.message||'Failed to remove student'});}}catch(err){setMessage({type:'error',text:'Error removing student from group'});}};const outerContainerStyle={fontFamily:'Georgia, serif',backgroundColor:COLORS.BODY_BACKGROUND,minHeight:'100vh'};const headerBannerStyle={backgroundImage:\"linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(\\\"https://www.kenan-flagler.unc.edu/wp-content/uploads/nmc-images/2019/10/singapore_skyline-width2000height772.jpg\\\")\",backgroundSize:'cover',backgroundPosition:'center',backgroundRepeat:'no-repeat',padding:'50px 0 10px 0',position:'relative'};const titleContainerStyle={display:'flex',alignItems:'center',padding:'0 40px',width:'100%'};const titleStyle={fontSize:'30px',fontWeight:'normal',margin:0,color:COLORS.WHITE,position:'relative',display:'inline-block',paddingBottom:'5px'};const mainContentStyle={display:'flex',padding:'20px',gap:'20px',maxWidth:'1600px',margin:'0 auto'};const leftPanelStyle={flex:'0 0 300px',backgroundColor:COLORS.WHITE,borderRadius:'8px',padding:'20px',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)',height:'fit-content'};const middlePanelStyle={flex:'0 0 400px',backgroundColor:COLORS.WHITE,borderRadius:'8px',padding:'20px',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)'};const rightPanelStyle={flex:'1',backgroundColor:COLORS.WHITE,borderRadius:'8px',padding:'20px',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)'};const sectionTitleStyle={fontSize:'24px',fontWeight:'bold',color:COLORS.TEXT_PRIMARY,marginBottom:'20px',fontFamily:'Georgia, serif'};const buttonStyle={backgroundColor:COLORS.TAN_SELECTED,color:COLORS.WHITE,padding:'12px 24px',borderRadius:'4px',fontWeight:'600',border:'none',cursor:'pointer',fontSize:'16px',fontFamily:'Georgia, serif',transition:'background-color 0.2s',width:'100%',marginBottom:'10px'};const activeButtonStyle=_objectSpread(_objectSpread({},buttonStyle),{},{backgroundColor:COLORS.NAVY_BUTTON});const searchInputStyle={width:'100%',padding:'12px 16px',border:\"1px solid \".concat(COLORS.TAN_BASE),borderRadius:'4px',fontSize:'16px',fontFamily:'Georgia, serif',marginBottom:'20px',boxSizing:'border-box'};const tableStyle={width:'100%',borderCollapse:'collapse',fontFamily:'Georgia, serif',fontSize:'14px'};const thStyle={backgroundColor:COLORS.HEADER_BAR_BG,padding:'12px',textAlign:'left',borderBottom:\"1px solid #ccc\",fontWeight:'600',color:COLORS.HEADER_TEXT};const tdStyle={padding:'12px',borderBottom:\"1px solid #ccc\",color:COLORS.TEXT_PRIMARY};const groupItemStyle={padding:'12px',marginBottom:'10px',backgroundColor:selectedGroup?'#f0f0f0':COLORS.WHITE,border:\"2px solid \".concat(selectedGroup?COLORS.NAVY_BUTTON:COLORS.TAN_BASE),borderRadius:'4px',cursor:'pointer',display:'flex',justifyContent:'space-between',alignItems:'center'};const studentRowStyle=isSelected=>_objectSpread(_objectSpread({},tdStyle),{},{backgroundColor:isSelected?'#e3f2fd':COLORS.WHITE,cursor:'pointer'});const messageStyle={padding:'12px',borderRadius:'4px',marginBottom:'20px',fontFamily:'Georgia, serif',fontSize:'14px'};const successMessageStyle=_objectSpread(_objectSpread({},messageStyle),{},{backgroundColor:'#d4edda',color:'#155724',border:'1px solid #c3e6cb'});const errorMessageStyle=_objectSpread(_objectSpread({},messageStyle),{},{backgroundColor:'#f8d7da',color:'#721c24',border:'1px solid #f5c6cb'});return/*#__PURE__*/_jsxs(\"div\",{style:outerContainerStyle,children:[/*#__PURE__*/_jsx(\"div\",{style:headerBannerStyle,children:/*#__PURE__*/_jsx(\"div\",{style:titleContainerStyle,children:/*#__PURE__*/_jsx(\"h1\",{style:titleStyle,children:(courseInfo===null||courseInfo===void 0?void 0:courseInfo.course_name)||'Manage Groups'})})}),/*#__PURE__*/_jsxs(\"div\",{style:mainContentStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:leftPanelStyle,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/course-roster/\".concat(courseId)),style:buttonStyle,children:\"Return\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/course-roster/\".concat(courseId)),style:buttonStyle,children:\"Import Roster\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/manage-groups/\".concat(courseId)),style:activeButtonStyle,children:\"Manage Groups\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:_objectSpread(_objectSpread({},sectionTitleStyle),{},{fontSize:'18px'}),children:\"Groups\"}),groups.map(group=>/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},groupItemStyle),{},{backgroundColor:selectedGroup===group.groupid?'#f0f0f0':COLORS.WHITE,border:\"2px solid \".concat(selectedGroup===group.groupid?COLORS.NAVY_BUTTON:COLORS.TAN_BASE)}),onClick:()=>handleSelectGroup(group.groupid,group.group_name),children:[/*#__PURE__*/_jsx(\"span\",{children:group.group_name}),/*#__PURE__*/_jsxs(\"span\",{style:{color:COLORS.TEXT_SECONDARY,fontSize:'14px'},children:[\"(\",getGroupStudentCount(group.groupid),\")\"]})]},group.groupid)),showAddGroup?/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newGroupName,onChange:e=>setNewGroupName(e.target.value),placeholder:\"Group name\",style:{width:'100%',padding:'8px',marginBottom:'10px',border:\"1px solid \".concat(COLORS.TAN_BASE),borderRadius:'4px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateGroup,style:_objectSpread(_objectSpread({},buttonStyle),{},{marginBottom:'5px'}),children:\"Create\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAddGroup(false);setNewGroupName('');},style:_objectSpread(_objectSpread({},buttonStyle),{},{backgroundColor:COLORS.TEXT_PRIMARY}),children:\"Cancel\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddGroup(true),style:_objectSpread(_objectSpread({},buttonStyle),{},{marginTop:'10px'}),children:\"Add Group\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:middlePanelStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:sectionTitleStyle,children:\"Roster\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),style:searchInputStyle}),isLoading?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px'},children:\"Loading students...\"}):/*#__PURE__*/_jsxs(\"table\",{style:tableStyle,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Name\"})})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredRoster.map(student=>{const isSelected=selectedStudents.includes(student.studentid);return/*#__PURE__*/_jsx(\"tr\",{onClick:()=>handleToggleStudent(student.studentid),style:studentRowStyle(isSelected),children:/*#__PURE__*/_jsx(\"td\",{children:student.studentname})},student.studentid);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:rightPanelStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:sectionTitleStyle,children:selectedGroup?selectedGroupName:'Group Management'}),message.text&&/*#__PURE__*/_jsx(\"div\",{style:message.type==='success'?successMessageStyle:errorMessageStyle,children:message.text}),!selectedGroup&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',color:COLORS.TEXT_SECONDARY,textAlign:'center'},children:\"Please select a group from the left panel to view and manage its members\"}),selectedGroup&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:_objectSpread(_objectSpread({},sectionTitleStyle),{},{fontSize:'18px',marginBottom:'15px'}),children:[\"Current Members (\",groupMembers.length,\")\"]}),isLoadingMembers?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'20px'},children:\"Loading members...\"}):groupMembers.length===0?/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',color:COLORS.TEXT_SECONDARY,textAlign:'center',backgroundColor:'#f9f9f9',borderRadius:'4px'},children:\"No students in this group yet\"}):/*#__PURE__*/_jsx(\"div\",{children:groupMembers.map(student=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',marginBottom:'8px',backgroundColor:'#f0f0f0',borderRadius:'4px',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'500'},children:student.studentname}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveStudentFromGroup(student.studentid,student.studentname),style:{backgroundColor:COLORS.ERROR_RED,color:COLORS.WHITE,border:'none',borderRadius:'4px',padding:'6px 12px',cursor:'pointer',fontSize:'12px',fontWeight:'600',fontFamily:'Georgia, serif'},title:\"Remove from group\",children:\"Remove\"})]},student.studentid))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{borderTop:\"2px solid \".concat(COLORS.TAN_BASE),paddingTop:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:_objectSpread(_objectSpread({},sectionTitleStyle),{},{fontSize:'18px',marginBottom:'15px'}),children:\"Add Students to Group\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Selected: \",selectedStudents.length,\" student(s)\"]})}),selectedStudents.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:selectedStudents.map(studentId=>{const student=roster.find(s=>s.studentid===studentId);// Check if student is already in the group\nconst alreadyInGroup=groupMembers.some(m=>m.studentid===studentId);return student?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',marginBottom:'5px',backgroundColor:alreadyInGroup?'#fff3cd':'#e3f2fd',borderRadius:'4px',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[student.studentname,alreadyInGroup&&/*#__PURE__*/_jsx(\"span\",{style:{color:COLORS.TEXT_SECONDARY,fontSize:'12px',marginLeft:'8px'},children:\"(already in group)\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleStudent(studentId),style:{background:'none',border:'none',color:COLORS.ERROR_RED,cursor:'pointer',fontSize:'18px'},children:\"\\xD7\"})]},studentId):null;})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddStudentsToGroup,disabled:selectedStudents.length===0,style:_objectSpread(_objectSpread({},buttonStyle),{},{opacity:selectedStudents.length===0?0.6:1,cursor:selectedStudents.length===0?'not-allowed':'pointer'}),children:\"Add Selected Students\"})]})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","API_URL","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","COLORS","TAN_BACKGROUND","WHITE","NAVY_BUTTON","PLACEHOLDER_TEXT","TEXT_PRIMARY","TEXT_SECONDARY","ERROR_RED","SUCCESS_GREEN","BODY_BACKGROUND","HEADER_TEXT","HEADER_BAR_BG","TAN_BASE","TAN_SELECTED","GroupManagement","courseId","navigate","searchTerm","setSearchTerm","groups","setGroups","roster","setRoster","filteredRoster","setFilteredRoster","selectedGroup","setSelectedGroup","selectedGroupName","setSelectedGroupName","selectedStudents","setSelectedStudents","groupMembers","setGroupMembers","isLoadingMembers","setIsLoadingMembers","newGroupName","setNewGroupName","showAddGroup","setShowAddGroup","courseInfo","setCourseInfo","isLoading","setIsLoading","message","setMessage","type","text","fetchCourseInfo","response","fetch","concat","data","json","ok","course","err","console","error","fetchGroups","fetchRoster","filterRoster","trim","filtered","filter","student","studentname","toLowerCase","includes","handleCreateGroup","method","headers","body","JSON","stringify","groupName","handleToggleStudent","studentId","prev","id","handleAddStudentsToGroup","length","studentIds","fetchGroupMembers","getGroupStudentCount","groupId","group","find","g","groupid","parseInt","student_count","students","handleSelectGroup","handleRemoveStudentFromGroup","studentName","window","confirm","outerContainerStyle","fontFamily","backgroundColor","minHeight","headerBannerStyle","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","padding","position","titleContainerStyle","display","alignItems","width","titleStyle","fontSize","fontWeight","margin","color","paddingBottom","mainContentStyle","gap","maxWidth","leftPanelStyle","flex","borderRadius","boxShadow","height","middlePanelStyle","rightPanelStyle","sectionTitleStyle","marginBottom","buttonStyle","border","cursor","transition","activeButtonStyle","_objectSpread","searchInputStyle","boxSizing","tableStyle","borderCollapse","thStyle","textAlign","borderBottom","tdStyle","groupItemStyle","justifyContent","studentRowStyle","isSelected","messageStyle","successMessageStyle","errorMessageStyle","style","children","course_name","onClick","marginTop","map","group_name","value","onChange","e","target","placeholder","studentid","title","borderTop","paddingTop","s","alreadyInGroup","some","m","marginLeft","background","disabled","opacity"],"sources":["/Users/ryandanziger/Desktop/smu-web-application/peer-eval-system/frontend-clean/src/components/GroupManagement.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport API_URL from '../config';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nconst COLORS = {\n  TAN_BACKGROUND: 'rgba(138,112,76,0.9)',\n  WHITE: 'white',\n  NAVY_BUTTON: '#141b4d',\n  PLACEHOLDER_TEXT: '#8a704c',\n  TEXT_PRIMARY: '#2d3748',\n  TEXT_SECONDARY: '#5C7094',\n  ERROR_RED: '#C97C7C',\n  SUCCESS_GREEN: '#4CAF50',\n  BODY_BACKGROUND: 'white',\n  HEADER_TEXT: '#2d3748',\n  HEADER_BAR_BG: '#e8e8e8',\n  TAN_BASE: '#C4B5A0',\n  TAN_SELECTED: '#8B7355',\n};\n\nexport default function GroupManagement() {\n  const { courseId } = useParams();\n  const navigate = useNavigate();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [groups, setGroups] = useState([]);\n  const [roster, setRoster] = useState([]);\n  const [filteredRoster, setFilteredRoster] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [selectedGroupName, setSelectedGroupName] = useState('');\n  const [selectedStudents, setSelectedStudents] = useState([]);\n  const [groupMembers, setGroupMembers] = useState([]);\n  const [isLoadingMembers, setIsLoadingMembers] = useState(false);\n  const [newGroupName, setNewGroupName] = useState('');\n  const [showAddGroup, setShowAddGroup] = useState(false);\n  const [courseInfo, setCourseInfo] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [message, setMessage] = useState({ type: '', text: '' });\n\n  const fetchCourseInfo = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/courses/${courseId}`);\n      const data = await response.json();\n      if (response.ok) {\n        setCourseInfo(data.course);\n      }\n    } catch (err) {\n      console.error('Error fetching course info:', err);\n    }\n  }, [courseId]);\n\n  const fetchGroups = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/courses/${courseId}/groups`);\n      const data = await response.json();\n      if (response.ok) {\n        setGroups(data.groups || []);\n      }\n    } catch (err) {\n      console.error('Error fetching groups:', err);\n    }\n  }, [courseId]);\n\n  const fetchRoster = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      const response = await fetch(`${API_URL}/api/courses/${courseId}/roster`);\n      const data = await response.json();\n      if (response.ok) {\n        setRoster(data.roster || []);\n      }\n    } catch (err) {\n      console.error('Error fetching roster:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [courseId]);\n\n  const filterRoster = useCallback(() => {\n    if (!searchTerm.trim()) {\n      setFilteredRoster(roster);\n      return;\n    }\n    const filtered = roster.filter(student =>\n      student.studentname.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n    setFilteredRoster(filtered);\n  }, [searchTerm, roster]);\n\n  useEffect(() => {\n    fetchCourseInfo();\n    fetchGroups();\n    fetchRoster();\n  }, [fetchCourseInfo, fetchGroups, fetchRoster]);\n\n  useEffect(() => {\n    filterRoster();\n  }, [filterRoster]);\n\n  const handleCreateGroup = async () => {\n    if (!newGroupName.trim()) {\n      setMessage({ type: 'error', text: 'Please enter a group name' });\n      return;\n    }\n\n    try {\n      const response = await fetch(`${API_URL}/api/courses/${courseId}/groups`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          groupName: newGroupName,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setMessage({ type: 'success', text: 'Group created successfully' });\n        setNewGroupName('');\n        setShowAddGroup(false);\n        fetchGroups();\n      } else {\n        setMessage({ type: 'error', text: data.message || 'Failed to create group' });\n      }\n    } catch (err) {\n      setMessage({ type: 'error', text: 'Error creating group' });\n    }\n  };\n\n  const handleToggleStudent = (studentId) => {\n    setSelectedStudents(prev =>\n      prev.includes(studentId)\n        ? prev.filter(id => id !== studentId)\n        : [...prev, studentId]\n    );\n  };\n\n  const handleAddStudentsToGroup = async () => {\n    if (!selectedGroup) {\n      setMessage({ type: 'error', text: 'Please select a group' });\n      return;\n    }\n\n    if (selectedStudents.length === 0) {\n      setMessage({ type: 'error', text: 'No student selected to add to Group' });\n      return;\n    }\n\n    try {\n      const response = await fetch(`${API_URL}/api/courses/${courseId}/groups/${selectedGroup}/students`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          studentIds: selectedStudents,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setMessage({ type: 'success', text: `Successfully added ${selectedStudents.length} student(s) to group` });\n        setSelectedStudents([]);\n        fetchGroups(); // Refresh group counts\n        fetchRoster(); // Refresh roster\n        fetchGroupMembers(selectedGroup); // Refresh group members list\n      } else {\n        setMessage({ type: 'error', text: data.message || 'Failed to add students to group' });\n      }\n    } catch (err) {\n      setMessage({ type: 'error', text: 'Error adding students to group' });\n    }\n  };\n\n  const getGroupStudentCount = (groupId) => {\n    const group = groups.find(g => g.groupid === groupId);\n    return group ? parseInt(group.student_count) || 0 : 0;\n  };\n\n  const fetchGroupMembers = useCallback(async (groupId) => {\n    if (!groupId) {\n      setGroupMembers([]);\n      return;\n    }\n\n    try {\n      setIsLoadingMembers(true);\n      const response = await fetch(`${API_URL}/api/courses/${courseId}/groups/${groupId}/students`);\n      const data = await response.json();\n      \n      if (response.ok) {\n        setGroupMembers(data.students || []);\n      } else {\n        setGroupMembers([]);\n      }\n    } catch (err) {\n      console.error('Error fetching group members:', err);\n      setGroupMembers([]);\n    } finally {\n      setIsLoadingMembers(false);\n    }\n  }, [courseId]);\n\n  const handleSelectGroup = (groupId, groupName) => {\n    setSelectedGroup(groupId);\n    setSelectedGroupName(groupName);\n    setSelectedStudents([]); // Clear selected students when switching groups\n    fetchGroupMembers(groupId);\n  };\n\n  const handleRemoveStudentFromGroup = async (studentId, studentName) => {\n    if (!selectedGroup) return;\n\n    if (!window.confirm(`Remove ${studentName} from this group?`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(\n        `${API_URL}/api/courses/${courseId}/groups/${selectedGroup}/students/${studentId}`,\n        { method: 'DELETE' }\n      );\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setMessage({ type: 'success', text: `${studentName} removed from group` });\n        // Refresh group members and groups list\n        fetchGroupMembers(selectedGroup);\n        fetchGroups();\n      } else {\n        setMessage({ type: 'error', text: data.message || 'Failed to remove student' });\n      }\n    } catch (err) {\n      setMessage({ type: 'error', text: 'Error removing student from group' });\n    }\n  };\n\n  const outerContainerStyle = {\n    fontFamily: 'Georgia, serif',\n    backgroundColor: COLORS.BODY_BACKGROUND,\n    minHeight: '100vh',\n  };\n\n  const headerBannerStyle = {\n    backgroundImage: `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(\"https://www.kenan-flagler.unc.edu/wp-content/uploads/nmc-images/2019/10/singapore_skyline-width2000height772.jpg\")`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    padding: '50px 0 10px 0',\n    position: 'relative',\n  };\n\n  const titleContainerStyle = {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 40px',\n    width: '100%',\n  };\n\n  const titleStyle = {\n    fontSize: '30px',\n    fontWeight: 'normal',\n    margin: 0,\n    color: COLORS.WHITE,\n    position: 'relative',\n    display: 'inline-block',\n    paddingBottom: '5px',\n  };\n\n  const mainContentStyle = {\n    display: 'flex',\n    padding: '20px',\n    gap: '20px',\n    maxWidth: '1600px',\n    margin: '0 auto',\n  };\n\n  const leftPanelStyle = {\n    flex: '0 0 300px',\n    backgroundColor: COLORS.WHITE,\n    borderRadius: '8px',\n    padding: '20px',\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n    height: 'fit-content',\n  };\n\n  const middlePanelStyle = {\n    flex: '0 0 400px',\n    backgroundColor: COLORS.WHITE,\n    borderRadius: '8px',\n    padding: '20px',\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n  };\n\n  const rightPanelStyle = {\n    flex: '1',\n    backgroundColor: COLORS.WHITE,\n    borderRadius: '8px',\n    padding: '20px',\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n  };\n\n  const sectionTitleStyle = {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    color: COLORS.TEXT_PRIMARY,\n    marginBottom: '20px',\n    fontFamily: 'Georgia, serif',\n  };\n\n  const buttonStyle = {\n    backgroundColor: COLORS.TAN_SELECTED,\n    color: COLORS.WHITE,\n    padding: '12px 24px',\n    borderRadius: '4px',\n    fontWeight: '600',\n    border: 'none',\n    cursor: 'pointer',\n    fontSize: '16px',\n    fontFamily: 'Georgia, serif',\n    transition: 'background-color 0.2s',\n    width: '100%',\n    marginBottom: '10px',\n  };\n\n  const activeButtonStyle = {\n    ...buttonStyle,\n    backgroundColor: COLORS.NAVY_BUTTON,\n  };\n\n  const searchInputStyle = {\n    width: '100%',\n    padding: '12px 16px',\n    border: `1px solid ${COLORS.TAN_BASE}`,\n    borderRadius: '4px',\n    fontSize: '16px',\n    fontFamily: 'Georgia, serif',\n    marginBottom: '20px',\n    boxSizing: 'border-box',\n  };\n\n  const tableStyle = {\n    width: '100%',\n    borderCollapse: 'collapse',\n    fontFamily: 'Georgia, serif',\n    fontSize: '14px',\n  };\n\n  const thStyle = {\n    backgroundColor: COLORS.HEADER_BAR_BG,\n    padding: '12px',\n    textAlign: 'left',\n    borderBottom: `1px solid #ccc`,\n    fontWeight: '600',\n    color: COLORS.HEADER_TEXT,\n  };\n\n  const tdStyle = {\n    padding: '12px',\n    borderBottom: `1px solid #ccc`,\n    color: COLORS.TEXT_PRIMARY,\n  };\n\n  const groupItemStyle = {\n    padding: '12px',\n    marginBottom: '10px',\n    backgroundColor: selectedGroup ? '#f0f0f0' : COLORS.WHITE,\n    border: `2px solid ${selectedGroup ? COLORS.NAVY_BUTTON : COLORS.TAN_BASE}`,\n    borderRadius: '4px',\n    cursor: 'pointer',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  };\n\n  const studentRowStyle = (isSelected) => ({\n    ...tdStyle,\n    backgroundColor: isSelected ? '#e3f2fd' : COLORS.WHITE,\n    cursor: 'pointer',\n  });\n\n  const messageStyle = {\n    padding: '12px',\n    borderRadius: '4px',\n    marginBottom: '20px',\n    fontFamily: 'Georgia, serif',\n    fontSize: '14px',\n  };\n\n  const successMessageStyle = {\n    ...messageStyle,\n    backgroundColor: '#d4edda',\n    color: '#155724',\n    border: '1px solid #c3e6cb',\n  };\n\n  const errorMessageStyle = {\n    ...messageStyle,\n    backgroundColor: '#f8d7da',\n    color: '#721c24',\n    border: '1px solid #f5c6cb',\n  };\n\n  return (\n    <div style={outerContainerStyle}>\n      {/* Header Banner */}\n      <div style={headerBannerStyle}>\n        <div style={titleContainerStyle}>\n          <h1 style={titleStyle}>{courseInfo?.course_name || 'Manage Groups'}</h1>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div style={mainContentStyle}>\n        {/* Left Panel - Navigation and Groups */}\n        <div style={leftPanelStyle}>\n          <button\n            onClick={() => navigate(`/course-roster/${courseId}`)}\n            style={buttonStyle}\n          >\n            Return\n          </button>\n          <button\n            onClick={() => navigate(`/course-roster/${courseId}`)}\n            style={buttonStyle}\n          >\n            Import Roster\n          </button>\n          <button\n            onClick={() => navigate(`/manage-groups/${courseId}`)}\n            style={activeButtonStyle}\n          >\n            Manage Groups\n          </button>\n\n          <div style={{ marginTop: '30px' }}>\n            <h3 style={{...sectionTitleStyle, fontSize: '18px'}}>Groups</h3>\n            {groups.map((group) => (\n              <div\n                key={group.groupid}\n                style={{\n                  ...groupItemStyle,\n                  backgroundColor: selectedGroup === group.groupid ? '#f0f0f0' : COLORS.WHITE,\n                  border: `2px solid ${selectedGroup === group.groupid ? COLORS.NAVY_BUTTON : COLORS.TAN_BASE}`,\n                }}\n                onClick={() => handleSelectGroup(group.groupid, group.group_name)}\n              >\n                <span>{group.group_name}</span>\n                <span style={{ color: COLORS.TEXT_SECONDARY, fontSize: '14px' }}>\n                  ({getGroupStudentCount(group.groupid)})\n                </span>\n              </div>\n            ))}\n            \n            {showAddGroup ? (\n              <div style={{ marginTop: '10px' }}>\n                <input\n                  type=\"text\"\n                  value={newGroupName}\n                  onChange={(e) => setNewGroupName(e.target.value)}\n                  placeholder=\"Group name\"\n                  style={{\n                    width: '100%',\n                    padding: '8px',\n                    marginBottom: '10px',\n                    border: `1px solid ${COLORS.TAN_BASE}`,\n                    borderRadius: '4px',\n                  }}\n                />\n                <button\n                  onClick={handleCreateGroup}\n                  style={{...buttonStyle, marginBottom: '5px'}}\n                >\n                  Create\n                </button>\n                <button\n                  onClick={() => {\n                    setShowAddGroup(false);\n                    setNewGroupName('');\n                  }}\n                  style={{...buttonStyle, backgroundColor: COLORS.TEXT_PRIMARY}}\n                >\n                  Cancel\n                </button>\n              </div>\n            ) : (\n              <button\n                onClick={() => setShowAddGroup(true)}\n                style={{...buttonStyle, marginTop: '10px'}}\n              >\n                Add Group\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Middle Panel - Search and Student List */}\n        <div style={middlePanelStyle}>\n          <h2 style={sectionTitleStyle}>Roster</h2>\n          \n          <input\n            type=\"text\"\n            placeholder=\"Search\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            style={searchInputStyle}\n          />\n\n          {isLoading ? (\n            <div style={{ textAlign: 'center', padding: '40px' }}>\n              Loading students...\n            </div>\n          ) : (\n            <table style={tableStyle}>\n              <thead>\n                <tr>\n                  <th style={thStyle}>Name</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredRoster.map((student) => {\n                  const isSelected = selectedStudents.includes(student.studentid);\n                  return (\n                    <tr\n                      key={student.studentid}\n                      onClick={() => handleToggleStudent(student.studentid)}\n                      style={studentRowStyle(isSelected)}\n                    >\n                      <td>{student.studentname}</td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          )}\n        </div>\n\n        {/* Right Panel - Group Members and Add Students */}\n        <div style={rightPanelStyle}>\n          <h2 style={sectionTitleStyle}>\n            {selectedGroup ? selectedGroupName : 'Group Management'}\n          </h2>\n          \n          {message.text && (\n            <div style={message.type === 'success' ? successMessageStyle : errorMessageStyle}>\n              {message.text}\n            </div>\n          )}\n\n          {!selectedGroup && (\n            <div style={{ padding: '20px', color: COLORS.TEXT_SECONDARY, textAlign: 'center' }}>\n              Please select a group from the left panel to view and manage its members\n            </div>\n          )}\n\n          {selectedGroup && (\n            <>\n              {/* Current Group Members Section */}\n              <div style={{ marginBottom: '30px' }}>\n                <h3 style={{...sectionTitleStyle, fontSize: '18px', marginBottom: '15px'}}>\n                  Current Members ({groupMembers.length})\n                </h3>\n                \n                {isLoadingMembers ? (\n                  <div style={{ textAlign: 'center', padding: '20px' }}>\n                    Loading members...\n                  </div>\n                ) : groupMembers.length === 0 ? (\n                  <div style={{ padding: '20px', color: COLORS.TEXT_SECONDARY, textAlign: 'center', backgroundColor: '#f9f9f9', borderRadius: '4px' }}>\n                    No students in this group yet\n                  </div>\n                ) : (\n                  <div>\n                    {groupMembers.map((student) => (\n                      <div\n                        key={student.studentid}\n                        style={{\n                          padding: '12px',\n                          marginBottom: '8px',\n                          backgroundColor: '#f0f0f0',\n                          borderRadius: '4px',\n                          display: 'flex',\n                          justifyContent: 'space-between',\n                          alignItems: 'center',\n                        }}\n                      >\n                        <span style={{ fontWeight: '500' }}>{student.studentname}</span>\n                        <button\n                          onClick={() => handleRemoveStudentFromGroup(student.studentid, student.studentname)}\n                          style={{\n                            backgroundColor: COLORS.ERROR_RED,\n                            color: COLORS.WHITE,\n                            border: 'none',\n                            borderRadius: '4px',\n                            padding: '6px 12px',\n                            cursor: 'pointer',\n                            fontSize: '12px',\n                            fontWeight: '600',\n                            fontFamily: 'Georgia, serif',\n                          }}\n                          title=\"Remove from group\"\n                        >\n                          Remove\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              {/* Add Students Section */}\n              <div style={{ borderTop: `2px solid ${COLORS.TAN_BASE}`, paddingTop: '20px' }}>\n                <h3 style={{...sectionTitleStyle, fontSize: '18px', marginBottom: '15px'}}>\n                  Add Students to Group\n                </h3>\n                \n                <div style={{ marginBottom: '20px' }}>\n                  <strong>Selected: {selectedStudents.length} student(s)</strong>\n                </div>\n\n                {selectedStudents.length > 0 && (\n                  <div style={{ marginBottom: '20px' }}>\n                    {selectedStudents.map(studentId => {\n                      const student = roster.find(s => s.studentid === studentId);\n                      // Check if student is already in the group\n                      const alreadyInGroup = groupMembers.some(m => m.studentid === studentId);\n                      \n                      return student ? (\n                        <div\n                          key={studentId}\n                          style={{\n                            padding: '8px',\n                            marginBottom: '5px',\n                            backgroundColor: alreadyInGroup ? '#fff3cd' : '#e3f2fd',\n                            borderRadius: '4px',\n                            display: 'flex',\n                            justifyContent: 'space-between',\n                            alignItems: 'center',\n                          }}\n                        >\n                          <span>\n                            {student.studentname}\n                            {alreadyInGroup && (\n                              <span style={{ color: COLORS.TEXT_SECONDARY, fontSize: '12px', marginLeft: '8px' }}>\n                                (already in group)\n                              </span>\n                            )}\n                          </span>\n                          <button\n                            onClick={() => handleToggleStudent(studentId)}\n                            style={{\n                              background: 'none',\n                              border: 'none',\n                              color: COLORS.ERROR_RED,\n                              cursor: 'pointer',\n                              fontSize: '18px',\n                            }}\n                          >\n                            Ã—\n                          </button>\n                        </div>\n                      ) : null;\n                    })}\n                  </div>\n                )}\n\n                <button\n                  onClick={handleAddStudentsToGroup}\n                  disabled={selectedStudents.length === 0}\n                  style={{\n                    ...buttonStyle,\n                    opacity: selectedStudents.length === 0 ? 0.6 : 1,\n                    cursor: selectedStudents.length === 0 ? 'not-allowed' : 'pointer',\n                  }}\n                >\n                  Add Selected Students\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}